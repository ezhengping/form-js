/** 
* form-js - v3.2.2.
* https://github.com/mkay581/form-js.git
* Copyright 2016 Mark Kennedy. Licensed MIT.
*/

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Form=t()}}(function(){var t;return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){"use strict";var i={createTarget:function(t){this._targets=this._targets||[];var e=this._getTargetMap(t);e.target||(t.addEventListener=this._getEventMethod(t,"_addEvent").bind(this),t.removeEventListener=this._getEventMethod(t,"_removeEvent").bind(this),t.dispatchEvent=this._getEventMethod(t,"_dispatchEvent").bind(this),e.target=t,this._targets.push(e))},_getTargetMap:function(t){return this._targets.filter(function(e){return e.target===t})[0]||{}},_addEvent:function(t,e,n,i,r){"boolean"!=typeof i&&(r=i,i=null),i=i||!1;var o=this.getNested(this._getTargetMap(t),e);o||(o=this.setNested(this._getTargetMap(t),e,[]));var s={listener:n,context:r,useCapture:i};-1===o.indexOf(s)&&o.push(s)},_getEventMethod:function(t,e){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(t),this[e].apply(this,n)}.bind(this)},_removeEvent:function(t,e,n){var i=this.getNested(this._getTargetMap(t),e,[]);i.forEach(function(t,e){t.listener===n&&i.splice(e,1)})},_dispatchEvent:function(t,e,n){var i,r=this._getTargetMap(t)||{};r[e]&&r[e].forEach(function(r){i=this._createEvent(e,n),r.listener.call(r.context||t,i)}.bind(this))},_createEvent:function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n},extend:function(t){var e,n,i=t;for(n=1;n<arguments.length;n++){e=arguments[n];for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r])}return i},getNested:function(t,e,n){for(var i=e.split("."),r=t,o=0;o<i.length;o++){if(!r[i[o]]){r=n;break}r=r[i[o]]}return r},setNested:function(t,e,n){for(var i=e.split("."),r=t,o=0;o<i.length;o++){var s=o===i.length-1;s?r[i[o]]=n:(r[i[o]]=r[i[o]]||{},r=r[i[o]])}return n},destroyTarget:function(t){var e=this._getTargetMap(t),n=this._targets.indexOf(e);n>-1&&this._targets.splice(n,1)}};e.exports=i},{}],2:[function(t,e,n){"use strict";var i=t("listen-js"),r=function(){this.initialize()};r.prototype={initialize:function(){i.createTarget(this),this._getOrientationChangeListener=function(){var t=this;return function(){t._onOrientationChange.bind(t)}},window.addEventListener("orientationchange",this._getOrientationChangeListener())},_onOrientationChange:function(){var t;t=window.innerHeight<=window.innerWidth?"landscape":"portrait",this.dispatchEvent("orientationchange",{orientation:t})},getUserAgent:function(){return window.navigator.userAgent},isBrowser:function(t){var e,n=t,i=this.getUserAgent();return t?(Array.isArray(t)&&(n=t.join("|")),n.indexOf("safari")>-1?(e=new RegExp("chrome","i"),!e.test(i)):(e=new RegExp(n,"i"),e.test(i))):!0},isMobile:function(){return this.isBrowser(["Android","webOS","iPhone","iPad","iPod","BlackBerry","IEMobile","Opera Mini"])},isOS:function(t){var e=t;Array.isArray(t)&&(e=t.join("|"));var n=new RegExp(e,"i");return n.test(this.getUserAgent())},destroy:function(){window.removeEventListener("orientationchange",this._getOrientationChangeListener()),i.destroyTarget(this)}},e.exports=new r},{"listen-js":1}],3:[function(t,e,n){"use strict";var i,r=t("./element"),o=t("./image-element"),s=0,a={};e.exports=function(){var t=function(t){this.initialize(t)};return t.prototype={initialize:function(){var t=this;i||document.body.kit||(i=Object.defineProperty(window.Element.prototype,"kit",{get:function(){return t.setup(this)}}))},setup:function(t){var e;return a[t._kitId]||(e=t instanceof window.HTMLImageElement?o:r,s++,t._kitId=s,a[t._kitId]=new e(t)),a[t._kitId]},destroy:function(){}},new t}()},{"./element":4,"./image-element":5}],4:[function(t,e,n){"use strict";var i=t("./utils"),r=(t("./element-kit"),function(t){this.initialize(t)});r.prototype={initialize:function(t){this.el=t,this.classList=this._getClassList(),this._eventListenerMap=this._eventListenerMap||[],Object.defineProperty(this,"dataset",{get:function(){return this.getData()}.bind(this)})},_traverseEachParent:function(t,e){for(var n,i=e||this.el;i&&"string"==typeof i.className&&(n=t(i),void 0===n||n);)i=i.parentNode},appendOuterHtml:function(t){var e=this.el.parentNode,n=i.createHtmlElement(t);return e?e.replaceChild(n,this.el):(e=document.createDocumentFragment(),e.appendChild(n)),n.appendChild(this.el),n},getUniqueId:function(){return this.el._kitId},getClosestAncestorElementByClassName:function(t){var e;return this._traverseEachParent(function(n){return n.kit._hasClass(t)?(e=n,!1):void 0},this.el.parentNode),e},addEventListener:function(t,e,n,i){var r=e;i=i||{},"function"!=typeof r&&(r=this._createEventListener(n[e],n)),this.el.addEventListener(t,r,i.useCapture),this._eventListenerMap.push({event:t,listener:r,listenerId:e,context:n})},_createEventListener:function(t,e){return function(n){e=e||this,t.apply(e,arguments)}},removeEventListener:function(t,e,n){var i,r,o=this._eventListenerMap||[];if(o.length)for(i=0;i<o.length;i++)if(r=o[i],r&&r.event===t&&r.listenerId===e&&r.context===n){this.el.removeEventListener(t,r.listener),this._eventListenerMap[i]=null;break}},waitForTransition:function(t){var e=this.getTransitionDuration();t&&(e>0?setTimeout(t.bind(this,this.el),e):t(this.el))},getTransitionDuration:function(){var t,e=this.getCssComputedProperty("transition-delay")||"0ms",n=this.getCssComputedProperty("transition-duration")||"0ms",i=Array.isArray(n)?n:[n],r=Array.isArray(e)?e:[e],o=0;return i.push.apply(i,r),i.forEach(function(e){e.split(",").forEach(function(e){e=this._convertCssTimeValueToMilliseconds(e),t=this._getCssPropUnitMap(e),t.num>o&&(o=t.num)}.bind(this))}.bind(this)),o},getCssComputedProperty:function(t){var e=window.getComputedStyle(this.el);return e.getPropertyValue(t)||this.el.style[this._getJsPropName(t)]},_getCssPropUnitMap:function(t){t.trim();var e=t.match("[0-9.]+"),n="ms";return e=e?e[0]:"",e&&(n=t.split(e)[1],e=Number(e)),{num:e,unit:n}},_convertCssTimeValueToMilliseconds:function(t){var e=this._getCssPropUnitMap(t).num,n=t.replace(e,"");return t="s"===n?1e3*e:e,t+"ms"},_getClassList:function(){return{add:this._addClass.bind(this),remove:this._removeClass.bind(this),contains:this._hasClass.bind(this),toggle:this._toggleClass.bind(this)}},_getCssClasses:function(){return this.el.className.split(" ")},_toggleClass:function(t){this._hasClass(t)?this._removeClass(t):this._addClass(t)},_addClass:function(){"classList"in document.createElement("_")?this._each(arguments,function(t){this.el.classList.add(t)}.bind(this)):this._each(arguments,function(t){this._hasClass(t)||(this.el.className=this.el.className?this.el.className+" "+t:t)}.bind(this))},_each:function(t,e){var n,i=t.length;for(n=0;i>n;n++)e(t[n])},_removeClass:function(){var t;"classList"in document.createElement("_")?this._each(arguments,function(t){this.el.classList.remove(t)}.bind(this)):this._each(arguments,function(e){this.el.className===e?this.el.className="":(t="[\\s]*"+e,t=new RegExp(t,"i"),this.el.className=this.el.className.replace(t,""))}.bind(this))},_hasClass:function(t){var e=this._getCssClasses();return-1!==e.indexOf(t)},_getJsPropName:function(t){return t=t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})},getAttributes:function(){var t=this.el.attributes,e={};if(t.length)for(var n=0;n<t.length;n++)e[t[n].name]=t[n].value;return e},_getDomData:function(){var t,e,n=this.getAttributes(),i={};for(t in n)n.hasOwnProperty(t)&&(e=n[t],0===t.indexOf("data-")&&(t=t.substr(5),i[t]=e));return i},getData:function(){var t;this._data=i.extend({},this._data,this._getDomData());for(t in this._data)if(this._data.hasOwnProperty(t)){var e=this._data[t];Object.defineProperty(this._data,t,{writeable:!0,get:function(){return e}.bind(this),set:function(e){this.setData.bind(this,t,e)}.bind(this)})}return this._data},setData:function(t,e){this.el.setAttribute("data-"+t,e),this._data[t]=e},destroy:function(){}},e.exports=r},{"./element-kit":3,"./utils":6}],5:[function(t,e,n){"use strict";var i=t("./utils"),r=t("./element"),o=function(t){r.prototype.initialize.call(this,t)};o.prototype=i.extend({},r.prototype,{load:function(t,e){var n=this.el,i=n.getAttribute(t)||t;return i||console.warn('ElementKit error: ImageElement has no "'+t+'" attribute to load'),-1!==i.indexOf(",")&&(i=this._getImageSourceSetPath(i)),this._loadImage(i,e),this},_loadImage:function(t,e){var n=this.el;n.onload=function(){e?e(n):null},n.src=t},_getImageSourceSetPath:function(t){var e,n,i,r,o,s=window.innerWidth,a=window.innerHeight;return t.split(",").forEach(function(t){n=this._buildSourceMapWidthHeight(t),i=n.width||0,r=n.height||0,!o&&s>=i&&a>=r&&(e=t.split(" ")[0],o=!0)}.bind(this)),e},_buildSourceMapWidthHeight:function(t,e){var n,i=t.split(" "),r=function(t){return Number(t.substr(0,t.length-1))};return e=e||{},i.shift(),i.forEach(function(t){n=t.charAt(t.length-1),"w"===n?e.width=r(t):"h"===n&&(e.height=r(t))}),e}}),e.exports=o},{"./element":4,"./utils":6}],6:[function(t,e,n){e.exports={createHtmlElement:function(t){var e,n;return t?(t=t.trim(t),e=document.createElement("div"),e.innerHTML=t,n=e.childNodes[0],e.removeChild(n)):void 0},extend:function(t){var e,n,i=t;for(n=1;n<arguments.length;n++){e=arguments[n];for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r])}return i}}},{}],7:[function(t,e,n){"use strict";e.exports=t("./lib")},{"./lib":12}],8:[function(t,e,n){"use strict";function i(){}function r(t){try{return t.then}catch(e){return m=e,g}}function o(t,e){try{return t(e)}catch(n){return m=n,g}}function s(t,e,n){try{t(e,n)}catch(i){return m=i,g}}function a(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._37=0,this._12=null,this._59=[],t!==i&&d(t,this)}function u(t,e,n){return new t.constructor(function(r,o){var s=new a(i);s.then(r,o),l(t,new p(e,n,s))})}function l(t,e){for(;3===t._37;)t=t._12;return 0===t._37?void t._59.push(e):void v(function(){var n=1===t._37?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._37?c(e.promise,t._12):f(e.promise,t._12));var i=o(n,t._12);i===g?f(e.promise,m):c(e.promise,i)})}function c(t,e){if(e===t)return f(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var n=r(e);if(n===g)return f(t,m);if(n===t.then&&e instanceof a)return t._37=3,t._12=e,void h(t);if("function"==typeof n)return void d(n.bind(e),t)}t._37=1,t._12=e,h(t)}function f(t,e){t._37=2,t._12=e,h(t)}function h(t){for(var e=0;e<t._59.length;e++)l(t,t._59[e]);t._59=null}function p(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function d(t,e){var n=!1,i=s(t,function(t){n||(n=!0,c(e,t))},function(t){n||(n=!0,f(e,t))});n||i!==g||(n=!0,f(e,m))}var v=t("asap/raw"),m=null,g={};e.exports=a,a._99=i,a.prototype.then=function(t,e){if(this.constructor!==a)return u(this,t,e);var n=new a(i);return l(this,new p(t,e,n)),n}},{"asap/raw":15}],9:[function(t,e,n){"use strict";var i=t("./core.js");e.exports=i,i.prototype.done=function(t,e){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(t){setTimeout(function(){throw t},0)})}},{"./core.js":8}],10:[function(t,e,n){"use strict";function i(t){var e=new r(r._99);return e._37=1,e._12=t,e}var r=t("./core.js");e.exports=r;var o=i(!0),s=i(!1),a=i(null),u=i(void 0),l=i(0),c=i("");r.resolve=function(t){if(t instanceof r)return t;if(null===t)return a;if(void 0===t)return u;if(t===!0)return o;if(t===!1)return s;if(0===t)return l;if(""===t)return c;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new r(e.bind(t))}catch(n){return new r(function(t,e){e(n)})}return i(t)},r.all=function(t){var e=Array.prototype.slice.call(t);return new r(function(t,n){function i(s,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof r&&a.then===r.prototype.then){for(;3===a._37;)a=a._12;return 1===a._37?i(s,a._12):(2===a._37&&n(a._12),void a.then(function(t){i(s,t)},n))}var u=a.then;if("function"==typeof u){var l=new r(u.bind(a));return void l.then(function(t){i(s,t)},n)}}e[s]=a,0===--o&&t(e)}if(0===e.length)return t([]);for(var o=e.length,s=0;s<e.length;s++)i(s,e[s])})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){t.forEach(function(t){r.resolve(t).then(e,n)})})},r.prototype["catch"]=function(t){return this.then(null,t)}},{"./core.js":8}],11:[function(t,e,n){"use strict";var i=t("./core.js");e.exports=i,i.prototype["finally"]=function(t){return this.then(function(e){return i.resolve(t()).then(function(){return e})},function(e){return i.resolve(t()).then(function(){throw e})})}},{"./core.js":8}],12:[function(t,e,n){"use strict";e.exports=t("./core.js"),t("./done.js"),t("./finally.js"),t("./es6-extensions.js"),t("./node-extensions.js")},{"./core.js":8,"./done.js":9,"./es6-extensions.js":10,"./finally.js":11,"./node-extensions.js":13}],13:[function(t,e,n){"use strict";var i=t("./core.js"),r=t("asap");e.exports=i,i.denodeify=function(t,e){return e=e||1/0,function(){var n=this,r=Array.prototype.slice.call(arguments,0,e>0?e:0);return new i(function(e,i){r.push(function(t,n){t?i(t):e(n)});var o=t.apply(n,r);!o||"object"!=typeof o&&"function"!=typeof o||"function"!=typeof o.then||e(o)})}},i.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="function"==typeof e[e.length-1]?e.pop():null,o=this;try{return t.apply(this,arguments).nodeify(n,o)}catch(s){if(null===n||"undefined"==typeof n)return new i(function(t,e){e(s)});r(function(){n.call(o,s)})}}},i.prototype.nodeify=function(t,e){return"function"!=typeof t?this:void this.then(function(n){r(function(){t.call(e,null,n)})},function(n){r(function(){t.call(e,n)})})}},{"./core.js":8,asap:14}],14:[function(t,e,n){"use strict";function i(){if(u.length)throw u.shift()}function r(t){var e;e=a.length?a.pop():new o,e.task=t,s(e)}function o(){this.task=null}var s=t("./raw"),a=[],u=[],l=s.makeRequestCallFromTimer(i);e.exports=r,o.prototype.call=function(){try{this.task.call()}catch(t){r.onerror?r.onerror(t):(u.push(t),l())}finally{this.task=null,a[a.length]=this}}},{"./raw":15}],15:[function(t,e,n){(function(t){"use strict";function n(t){a.length||(s(),u=!0),a[a.length]=t}function i(){for(;l<a.length;){var t=l;if(l+=1,a[t].call(),l>c){for(var e=0,n=a.length-l;n>e;e++)a[e]=a[e+l];a.length-=l,l=0}}a.length=0,l=0,u=!1}function r(t){var e=1,n=new f(t),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}function o(t){return function(){function e(){clearTimeout(n),clearInterval(i),t()}var n=setTimeout(e,0),i=setInterval(e,50)}}e.exports=n;var s,a=[],u=!1,l=0,c=1024,f=t.MutationObserver||t.WebKitMutationObserver;s="function"==typeof f?r(i):o(i),n.requestFlush=s,n.makeRequestCallFromTimer=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(t,e,n){"use strict";var i=t("promise"),r=t("underscore"),o=function(t){this.initialize(t)},s=function(t,e){var n,i=this;n=t&&r.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},r.extend(n,i,e);var o=function(){this.constructor=n};return o.prototype=i.prototype,n.prototype=new o,t&&r.extend(n.prototype,t),n.__super__=i.prototype,n};o.extend=s,o.prototype={initialize:function(t){this.options=r.extend({},{el:null,loadedClass:"module-loaded",activeClass:"module-active",disabledClass:"module-disabled",errorClass:"module-error"},t),this._handleElementInitialState(),this.subModules={},this.active=!1,this.loaded=!1},onLoad:function(t){return i.resolve()},onShow:function(){return i.resolve()},onHide:function(){return i.resolve()},onEnable:function(){return i.resolve()},onDisable:function(){return i.resolve()},onError:function(t){return i.resolve(t)},load:function(t){var e=r.values(this.subModules);return t&&(this.options.el=this.options.el||t.el),this.loaded?i.resolve():i.all(r.invoke(e,"load")).then(function(){return this._ensurePromise(this.onLoad(t)).then(function(){this.loaded=!0,this.options.el&&this.options.el.classList.add(this.options.loadedClass)}.bind(this))["catch"](function(t){return this.error(t),t}.bind(this))}.bind(this))},error:function(t){var e=this.options.el,n=t||new Error,i=n.message||"";return e&&e.classList.add(this.options.errorClass),this.error=!0,this.loaded=!1,console.warn("MODULE ERROR! "+i),n.stack&&console.log(n.stack),this._ensurePromise(this.onError(n)).then(function(t){return t||n})},enable:function(){var t=this.options.el;return t&&t.classList.remove(this.options.disabledClass),this.disabled=!1,this._ensurePromise(this.onEnable())},disable:function(){var t=this.options.el;return t&&t.classList.add(this.options.disabledClass),this.disabled=!0,this._ensurePromise(this.onDisable())},show:function(){var t=this.options.el;return t&&t.classList.add(this.options.activeClass),this.active=!0,this._ensurePromise(this.onShow())},hide:function(){var t=this.options.el;return t&&t.classList.remove(this.options.activeClass),this.active=!1,this._ensurePromise(this.onHide())},_handleElementInitialState:function(){var t=this.options.el;t&&(t.classList.contains(this.options.disabledClass)&&(this._origDisabled=!0,this.disable()),t.classList.contains(this.options.errorClass)&&(this._origError=!0,this.error(new Error)))},_resetElementInitialState:function(){var t=this.options,e=t.el,n=t.disabledClass,i=t.errorClass;e&&(this._origDisabled?e.classList.add(n):e.classList.remove(n),this._origError?e.classList.add(i):e.classList.remove(i))},_ensurePromise:function(t){return t&&t.then||(t=i.resolve()),t},destroy:function(){var t=this.subModules;for(var e in t)t.hasOwnProperty(e)&&t[e]&&t[e].destroy();this.subModules={},this.active=!1,this.loaded=!1,this._resetElementInitialState()}},e.exports=o},{promise:7,underscore:17}],17:[function(e,n,i){(function(){function e(t){function e(e,n,i,r,o,s){for(;o>=0&&s>o;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}return function(n,i,r,o){i=b(i,o,4);var s=!U(n)&&C.keys(n),a=(s||n).length,u=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[u]:u],u+=t),e(n,i,r,s,u,a)}}function r(t){return function(e,n,i){n=w(n,i);for(var r=O(e),o=t>0?0:r-1;o>=0&&r>o;o+=t)if(n(e[o],o,e))return o;return-1}}function o(t,e,n){return function(i,r,o){var s=0,a=O(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(p.call(i,s,a),C.isNaN),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&a>o;o+=t)if(i[o]===r)return o;return-1}}function s(t,e){var n=S.length,i=t.constructor,r=C.isFunction(i)&&i.prototype||c,o="constructor";for(C.has(t,o)&&!C.contains(e,o)&&e.push(o);n--;)o=S[n],o in t&&t[o]!==r[o]&&!C.contains(e,o)&&e.push(o)}var a=this,u=a._,l=Array.prototype,c=Object.prototype,f=Function.prototype,h=l.push,p=l.slice,d=c.toString,v=c.hasOwnProperty,m=Array.isArray,g=Object.keys,y=f.bind,_=Object.create,E=function(){},C=function(t){return t instanceof C?t:this instanceof C?void(this._wrapped=t):new C(t)};"undefined"!=typeof i?("undefined"!=typeof n&&n.exports&&(i=n.exports=C),i._=C):a._=C,C.VERSION="1.8.3";var b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return null==t?C.identity:C.isFunction(t)?b(t,e,n):C.isObject(t)?C.matcher(t):C.property(t)};C.iteratee=function(t,e){return w(t,e,1/0)};var k=function(t,e){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],s=t(o),a=s.length,u=0;a>u;u++){var l=s[u];e&&void 0!==n[l]||(n[l]=o[l])}return n}},I=function(t){if(!C.isObject(t))return{};if(_)return _(t);E.prototype=t;var e=new E;return E.prototype=null,e},L=function(t){return function(e){return null==e?void 0:e[t]}},x=Math.pow(2,53)-1,O=L("length"),U=function(t){var e=O(t);return"number"==typeof e&&e>=0&&x>=e};C.each=C.forEach=function(t,e,n){e=b(e,n);var i,r;if(U(t))for(i=0,r=t.length;r>i;i++)e(t[i],i,t);else{var o=C.keys(t);for(i=0,r=o.length;r>i;i++)e(t[o[i]],o[i],t)}return t},C.map=C.collect=function(t,e,n){e=w(e,n);for(var i=!U(t)&&C.keys(t),r=(i||t).length,o=Array(r),s=0;r>s;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},C.reduce=C.foldl=C.inject=e(1),C.reduceRight=C.foldr=e(-1),C.find=C.detect=function(t,e,n){var i;return i=U(t)?C.findIndex(t,e,n):C.findKey(t,e,n),void 0!==i&&-1!==i?t[i]:void 0},C.filter=C.select=function(t,e,n){var i=[];return e=w(e,n),C.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},C.reject=function(t,e,n){return C.filter(t,C.negate(w(e)),n)},C.every=C.all=function(t,e,n){e=w(e,n);for(var i=!U(t)&&C.keys(t),r=(i||t).length,o=0;r>o;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},C.some=C.any=function(t,e,n){e=w(e,n);for(var i=!U(t)&&C.keys(t),r=(i||t).length,o=0;r>o;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},C.contains=C.includes=C.include=function(t,e,n,i){return U(t)||(t=C.values(t)),("number"!=typeof n||i)&&(n=0),C.indexOf(t,e,n)>=0},C.invoke=function(t,e){var n=p.call(arguments,2),i=C.isFunction(e);return C.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},C.pluck=function(t,e){return C.map(t,C.property(e))},C.where=function(t,e){return C.filter(t,C.matcher(e))},C.findWhere=function(t,e){return C.find(t,C.matcher(e))},C.max=function(t,e,n){var i,r,o=-(1/0),s=-(1/0);if(null==e&&null!=t){t=U(t)?t:C.values(t);for(var a=0,u=t.length;u>a;a++)i=t[a],i>o&&(o=i)}else e=w(e,n),C.each(t,function(t,n,i){r=e(t,n,i),(r>s||r===-(1/0)&&o===-(1/0))&&(o=t,s=r)});return o},C.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t){t=U(t)?t:C.values(t);for(var a=0,u=t.length;u>a;a++)i=t[a],o>i&&(o=i)}else e=w(e,n),C.each(t,function(t,n,i){r=e(t,n,i),(s>r||r===1/0&&o===1/0)&&(o=t,s=r)});return o},C.shuffle=function(t){for(var e,n=U(t)?t:C.values(t),i=n.length,r=Array(i),o=0;i>o;o++)e=C.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},C.sample=function(t,e,n){return null==e||n?(U(t)||(t=C.values(t)),t[C.random(t.length-1)]):C.shuffle(t).slice(0,Math.max(0,e))},C.sortBy=function(t,e,n){return e=w(e,n),C.pluck(C.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var j=function(t){return function(e,n,i){var r={};return n=w(n,i),C.each(e,function(i,o){var s=n(i,o,e);t(r,i,s)}),r}};C.groupBy=j(function(t,e,n){C.has(t,n)?t[n].push(e):t[n]=[e]}),C.indexBy=j(function(t,e,n){t[n]=e}),C.countBy=j(function(t,e,n){C.has(t,n)?t[n]++:t[n]=1}),C.toArray=function(t){return t?C.isArray(t)?p.call(t):U(t)?C.map(t,C.identity):C.values(t):[]},C.size=function(t){return null==t?0:U(t)?t.length:C.keys(t).length},C.partition=function(t,e,n){e=w(e,n);var i=[],r=[];return C.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},C.first=C.head=C.take=function(t,e,n){return null!=t?null==e||n?t[0]:C.initial(t,t.length-e):void 0},C.initial=function(t,e,n){return p.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},C.last=function(t,e,n){return null!=t?null==e||n?t[t.length-1]:C.rest(t,Math.max(0,t.length-e)):void 0},C.rest=C.tail=C.drop=function(t,e,n){return p.call(t,null==e||n?1:e)},C.compact=function(t){return C.filter(t,C.identity)};var A=function(t,e,n,i){for(var r=[],o=0,s=i||0,a=O(t);a>s;s++){var u=t[s];if(U(u)&&(C.isArray(u)||C.isArguments(u))){e||(u=A(u,e,n));var l=0,c=u.length;for(r.length+=c;c>l;)r[o++]=u[l++]}else n||(r[o++]=u)}return r};C.flatten=function(t,e){return A(t,e,!1)},C.without=function(t){return C.difference(t,p.call(arguments,1))},C.uniq=C.unique=function(t,e,n,i){C.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=w(n,i));for(var r=[],o=[],s=0,a=O(t);a>s;s++){var u=t[s],l=n?n(u,s,t):u;e?(s&&o===l||r.push(u),o=l):n?C.contains(o,l)||(o.push(l),r.push(u)):C.contains(r,u)||r.push(u)}return r},C.union=function(){return C.uniq(A(arguments,!0,!0))},C.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=O(t);r>i;i++){var o=t[i];if(!C.contains(e,o)){for(var s=1;n>s&&C.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},C.difference=function(t){var e=A(arguments,!0,!0,1);return C.filter(t,function(t){return!C.contains(e,t)})},C.zip=function(){return C.unzip(arguments)},C.unzip=function(t){for(var e=t&&C.max(t,O).length||0,n=Array(e),i=0;e>i;i++)n[i]=C.pluck(t,i);return n},C.object=function(t,e){for(var n={},i=0,r=O(t);r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},C.findIndex=r(1),C.findLastIndex=r(-1),C.sortedIndex=function(t,e,n,i){n=w(n,i,1);for(var r=n(e),o=0,s=O(t);s>o;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},C.indexOf=o(1,C.findIndex,C.sortedIndex),C.lastIndexOf=o(-1,C.findLastIndex),C.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;i>o;o++,t+=n)r[o]=t;return r};var M=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=I(t.prototype),s=t.apply(o,r);return C.isObject(s)?s:o};C.bind=function(t,e){if(y&&t.bind===y)return y.apply(t,p.call(arguments,1));if(!C.isFunction(t))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),i=function(){return M(t,i,e,this,n.concat(p.call(arguments)))};return i},C.partial=function(t){var e=p.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),s=0;r>s;s++)o[s]=e[s]===C?arguments[i++]:e[s];for(;i<arguments.length;)o.push(arguments[i++]);return M(t,n,this,this,o)};return n},C.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=C.bind(t[n],t);return t},C.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return C.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},C.delay=function(t,e){var n=p.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},C.defer=C.partial(C.delay,C,1),C.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:C.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var l=C.now();a||n.leading!==!1||(a=l);var c=e-(l-a);return i=this,r=arguments,0>=c||c>e?(s&&(clearTimeout(s),s=null),a=l,o=t.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(u,c)),o}},C.debounce=function(t,e,n){var i,r,o,s,a,u=function(){var l=C.now()-s;e>l&&l>=0?i=setTimeout(u,e-l):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=C.now();var l=n&&!i;return i||(i=setTimeout(u,e)),l&&(a=t.apply(o,r),o=r=null),a}},C.wrap=function(t,e){return C.partial(e,t)},C.negate=function(t){return function(){return!t.apply(this,arguments)}},C.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},C.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},C.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},C.once=C.partial(C.before,2);var F=!{toString:null}.propertyIsEnumerable("toString"),S=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];C.keys=function(t){if(!C.isObject(t))return[];if(g)return g(t);var e=[];for(var n in t)C.has(t,n)&&e.push(n);return F&&s(t,e),e},C.allKeys=function(t){if(!C.isObject(t))return[];var e=[];for(var n in t)e.push(n);return F&&s(t,e),e},C.values=function(t){for(var e=C.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},C.mapObject=function(t,e,n){e=w(e,n);for(var i,r=C.keys(t),o=r.length,s={},a=0;o>a;a++)i=r[a],s[i]=e(t[i],i,t);return s},C.pairs=function(t){for(var e=C.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},C.invert=function(t){for(var e={},n=C.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},C.functions=C.methods=function(t){var e=[];for(var n in t)C.isFunction(t[n])&&e.push(n);return e.sort()},C.extend=k(C.allKeys),C.extendOwn=C.assign=k(C.keys),C.findKey=function(t,e,n){e=w(e,n);for(var i,r=C.keys(t),o=0,s=r.length;s>o;o++)if(i=r[o],e(t[i],i,t))return i},C.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;C.isFunction(e)?(r=C.allKeys(s),i=b(e,n)):(r=A(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,u=r.length;u>a;a++){var l=r[a],c=s[l];i(c,l,s)&&(o[l]=c)}return o},C.omit=function(t,e,n){if(C.isFunction(e))e=C.negate(e);else{var i=C.map(A(arguments,!1,!1,1),String);e=function(t,e){return!C.contains(i,e)}}return C.pick(t,e,n)},C.defaults=k(C.allKeys,!0),C.create=function(t,e){var n=I(t);return e&&C.extendOwn(n,e),n},C.clone=function(t){return C.isObject(t)?C.isArray(t)?t.slice():C.extend({},t):t},C.tap=function(t,e){return e(t),t},C.isMatch=function(t,e){var n=C.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;i>o;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var N=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof C&&(t=t._wrapped),e instanceof C&&(e=e._wrapped);var r=d.call(t);if(r!==d.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(C.isFunction(s)&&s instanceof s&&C.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),o){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!N(t[u],e[u],n,i))return!1}else{var l,c=C.keys(t);if(u=c.length,C.keys(e).length!==u)return!1;for(;u--;)if(l=c[u],!C.has(e,l)||!N(t[l],e[l],n,i))return!1}return n.pop(),i.pop(),!0};C.isEqual=function(t,e){return N(t,e)},C.isEmpty=function(t){return null==t?!0:U(t)&&(C.isArray(t)||C.isString(t)||C.isArguments(t))?0===t.length:0===C.keys(t).length},C.isElement=function(t){return!(!t||1!==t.nodeType)},C.isArray=m||function(t){return"[object Array]"===d.call(t)},C.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},C.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){C["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),C.isArguments(arguments)||(C.isArguments=function(t){return C.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(C.isFunction=function(t){return"function"==typeof t||!1}),C.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},C.isNaN=function(t){return C.isNumber(t)&&t!==+t},C.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===d.call(t)},C.isNull=function(t){return null===t},C.isUndefined=function(t){return void 0===t},C.has=function(t,e){return null!=t&&v.call(t,e)},C.noConflict=function(){return a._=u,this},C.identity=function(t){return t},C.constant=function(t){return function(){return t}},C.noop=function(){},C.property=L,C.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},C.matcher=C.matches=function(t){return t=C.extendOwn({},t),function(e){return C.isMatch(e,t)}},C.times=function(t,e,n){var i=Array(Math.max(0,t));
e=b(e,n,1);for(var r=0;t>r;r++)i[r]=e(r);return i},C.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},C.now=Date.now||function(){return(new Date).getTime()};var T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=C.invert(T),V=function(t){var e=function(e){return t[e]},n="(?:"+C.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};C.escape=V(T),C.unescape=V(B),C.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),C.isFunction(i)?i.call(t):i};var D=0;C.uniqueId=function(t){var e=++D+"";return t?t+e:e},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\u2028|\u2029/g,q=function(t){return"\\"+H[t]};C.template=function(t,e,n){!e&&n&&(e=n),e=C.defaults({},e,C.templateSettings);var i=RegExp([(e.escape||P).source,(e.interpolate||P).source,(e.evaluate||P).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,s,a){return o+=t.slice(r,a).replace(K,q),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(a){throw a.source=o,a}var u=function(t){return s.call(this,t,C)},l=e.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},C.chain=function(t){var e=C(t);return e._chain=!0,e};var z=function(t,e){return t._chain?C(e).chain():e};C.mixin=function(t){C.each(C.functions(t),function(e){var n=C[e]=t[e];C.prototype[e]=function(){var t=[this._wrapped];return h.apply(t,arguments),z(this,n.apply(C,t))}})},C.mixin(C),C.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=l[t];C.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],z(this,n)}}),C.each(["concat","join","slice"],function(t){var e=l[t];C.prototype[t]=function(){return z(this,e.apply(this._wrapped,arguments))}}),C.prototype.value=function(){return this._wrapped},C.prototype.valueOf=C.prototype.toJSON=C.prototype.value,C.prototype.toString=function(){return""+this._wrapped},"function"==typeof t&&t.amd&&t("underscore",[],function(){return C})}).call(this)},{}],18:[function(t,e,n){"use strict";var i=t("underscore"),r=t("./form-element"),o=t("device-manager");t("element-kit");var s=r.extend({initialize:function(t){this.options=i.extend({el:null,onChange:null,autoSetup:!0,onFocus:null,onBlur:null,customWrapperClass:"dropdown-wrapper",containerClass:"dropdown-container",optionsContainerClass:"dropdown-option-container",optionsContainerActiveClass:"dropdown-option-container-active",optionsClass:"dropdown-option",optionsHighlightedClass:"dropdown-option-highlighted",optionsSelectedClass:"dropdown-option-selected",selectedValueContainerClass:"dropdown-value-container",selectedValueContainerActiveClass:"dropdown-value-container-active",disabledClass:"dropdown-disabled"},t),r.prototype.initialize.call(this,this.options),this._keyMap={38:"up",40:"down",27:"esc",32:"space"},this.options.autoSetup&&this.setup()},setup:function(){var t=this.options.el,e=t.querySelectorAll("option[selected]")[0];t.kit.addEventListener("change","_onSelectChange",this),this._wrapperEl=t.kit.appendOuterHtml('<div class="'+this.options.customWrapperClass+'">'),this._uiEl=this._buildUIElement(),this._wrapperEl.appendChild(this._uiEl),this._bindUIElementEvents(),e&&this._setUISelectedValue(e.value),this.getFormElement().disabled&&this.disable()},_buildUIElement:function(){var t=this.options,e=t.el,n=document.createElement("div");return this._origTabIndex=e.tabIndex,n.classList.add(this.options.containerClass),n.innerHTML=this._buildSelectedValueHtml()+this._buildOptionsHtml(),o.isMobile()||(n.tabIndex=this._origTabIndex||0,e.tabIndex=-1),n},_setUISelectedValue:function(t){var e=this.getUIElement().getElementsByClassName(this.options.optionsContainerClass)[0],n=e.getElementsByClassName(this.options.optionsSelectedClass)[0],i=e.querySelectorAll("."+this.options.optionsClass+'[data-value="'+t+'"]')[0],r=this.options.optionsSelectedClass,o=this.getUIElement().getElementsByClassName(this.options.selectedValueContainerClass)[0],s=i?i.textContent:"";o.setAttribute("data-value",t),o.innerHTML=s,n&&n.kit.classList.remove(r),i&&i.kit.classList.add(r)},onKeyStrokeUIElement:function(t){var e=this.options,n=this.options.optionsHighlightedClass,i=this.getUIElement(),r=i.getElementsByClassName(e.optionsContainerClass)[0],o=r.getElementsByClassName(e.optionsSelectedClass)[0],s=r.getElementsByClassName(n)[0]||o,a=this._keyMap[t.keyCode];if(!a)return!1;if("up"!==a&&"down"!==a||this.isOptionsContainerActive())if("up"===a)this._onKeyStrokeUp(s);else if("down"===a)this._onKeyStrokeDown(s);else{if(!this.isOptionsContainerActive())return!1;"esc"===a?this.hideOptionsContainer():"space"===a&&(this.setValue(s.dataset.value),this.hideOptionsContainer())}else this.showOptionsContainer()},_onKeyStrokeUp:function(t){var e=this.options.optionsHighlightedClass,n=t.previousSibling;t.classList.remove(e),n||(n=this.getUIElement().getElementsByClassName(this.options.optionsContainerClass)[0].lastChild),n.classList.add(e)},_onKeyStrokeDown:function(t){var e=this.options.optionsHighlightedClass,n=t.nextSibling;t.classList.remove(e),n||(n=this.getUIElement().getElementsByClassName(this.options.optionsContainerClass)[0].firstChild),n.classList.add(e)},_onFocusFormElement:function(t){this.options.onFocus&&this.options.onFocus(t)},_onBlurFormElement:function(t){this.options.onBlur&&this.options.onBlur(t)},_onFocusUIElement:function(t){var e=this;this._windowKeyEventListener=function(t){e._keyMap[t.keyCode]&&t.preventDefault()},o.isMobile()||(window.addEventListener("keydown",this._windowKeyEventListener,!1),window.addEventListener("keyup",this._windowKeyEventListener,!1),this.getUIElement().kit.addEventListener("keyup","onKeyStrokeUIElement",this)),this.options.onFocus&&this.options.onFocus(t)},_onBlurUIElement:function(t){o.isMobile()||(this.getUIElement().kit.removeEventListener("keyup","onKeyStrokeUIElement",this),window.removeEventListener("keydown",this._windowKeyEventListener,!1),window.removeEventListener("keyup",this._windowKeyEventListener,!1)),this.options.onBlur&&this.options.onBlur(t)},_onMouseEnterUIElement:function(t){t.currentTarget.classList.add(this.options.optionsHighlightedClass)},_onMouseLeaveUIElement:function(t){t.currentTarget.classList.remove(this.options.optionsHighlightedClass)},_bindUIElementEvents:function(){var t=this.getUIElement(),e=t.getElementsByClassName(this.options.selectedValueContainerClass)[0],n=this.getFormElement();t.kit.addEventListener("focus","_onFocusUIElement",this),t.kit.addEventListener("blur","_onBlurUIElement",this),n.kit.addEventListener("focus","_onFocusFormElement",this),n.kit.addEventListener("blur","_onBlurFormElement",this),e.kit.addEventListener("click","_onClickUIValueContainer",this)},_unbindUIElementEvents:function(){var t=this.getUIElement(),e=t.getElementsByClassName(this.options.selectedValueContainerClass)[0],n=this.getFormElement();t.kit.removeEventListener("focus","_onFocusUIElement",this),t.kit.removeEventListener("blur","_onBlurUIElement",this),n.kit.removeEventListener("focus","_onFocusFormElement",this),n.kit.removeEventListener("blur","_onBlurFormElement",this),e.kit.removeEventListener("click","_onClickUIValueContainer",this)},bindUIOptionEvents:function(){var t,e=this.getUIElement().getElementsByClassName(this.options.optionsClass),n=e.length;for(t=0;n>t;t++)e[t].kit.addEventListener("click","_onClickUIOption",this),e[t].kit.addEventListener("mouseenter","_onMouseEnterUIElement",this),e[t].kit.addEventListener("mouseleave","_onMouseLeaveUIElement",this)},unbindUIOptionEvents:function(){var t,e=this.getUIElement().getElementsByClassName(this.options.optionsClass),n=e.length;for(t=0;n>t;t++)e[t].kit.removeEventListener("click","_onClickUIOption",this),e[t].kit.removeEventListener("mouseenter","_onMouseEnterUIElement",this),e[t].kit.removeEventListener("mouseleave","_onMouseLeaveUIElement",this)},_onClickUIValueContainer:function(){return this.getFormElement().disabled?!1:void(this.isOptionsContainerActive()?this.hideOptionsContainer():this.showOptionsContainer())},showOptionsContainer:function(){var t=this.getUIElement(),e=this.options,n=this.getUIOptionByDataValue(this.getValue())||t.getElementsByClassName(e.optionsClass)[0];t.kit.classList.add(e.optionsContainerActiveClass),this.bindUIOptionEvents(),n&&n.classList.add(this.options.optionsSelectedClass),document.body.kit.addEventListener("click","onClickDocument",this)},hideOptionsContainer:function(){o.isBrowser("safari")&&this.redrawOptionsContainer(),this.getUIElement().kit.classList.remove(this.options.optionsContainerActiveClass),this.unbindUIOptionEvents(),document.body.kit.removeEventListener("click","onClickDocument",this)},redrawOptionsContainer:function(){var t=this.getUIElement().getElementsByClassName(this.options.optionsContainerClass)[0],e=t.style.overflow;t.style.overflow="hidden",t.offsetHeight,e?t.style.overflow=e:t.style.removeProperty("overflow")},isOptionsContainerActive:function(){return this.getUIElement().kit.classList.contains(this.options.optionsContainerActiveClass)},onClickDocument:function(t){var e=t.target.kit.getClosestAncestorElementByClassName(this.options.containerClass);e&&e===this.getUIElement()||this.hideOptionsContainer()},_onClickUIOption:function(t){var e=t.currentTarget,n=e.kit.dataset.value;this.getValue()!==n&&(this.setValue(n),this._setUISelectedValue(n)),this.hideOptionsContainer()},_buildSelectedValueHtml:function(){return'<div class="'+this.options.selectedValueContainerClass+'" data-value=""></div>'},_buildOptionsHtml:function(){var t,e,n=this.options,i=document.createElement("div"),r='<div class="'+n.optionsContainerClass+'">',o=n.el.getElementsByTagName("option"),s=o.length,a="";for(i.kit.classList.add(n.optionsContainerClass),t=0;s>t;t++)e=o[t],a=e.hasAttribute("selected")?n.optionsSelectedClass:"",r+='<div class="'+n.optionsClass+" "+a+'" data-value="'+e.value+'">'+e.textContent+"</div>";return r+="</div>"},_onSelectChange:function(t){var e=this.getValue();this._setUISelectedValue(e),this.options.onChange&&this.options.onChange(e,this.getFormElement(),this.getUIElement(),t)},getUIElement:function(){return this._uiEl},getOptionByDataValue:function(t){return this.options.el.querySelectorAll('option[value="'+t+'"]')[0]},getUIOptionByDataValue:function(t){return this.getUIElement().querySelectorAll("."+this.options.optionsClass+'[data-value="'+t+'"]')[0]},getOptionByDisplayValue:function(t){var e,n,i=this.options.el.querySelectorAll("option"),r=i.length;for(e=0;r>e&&(n=i[e],n.textContent!==t);e++);return n},setValue:function(t){var e=this.getOptionByDataValue(this.getValue()),n=this.getOptionByDataValue(t),i=document.createEvent("HTMLEvents"),r=this.getFormElement();i.initEvent("change",!1,!0),e&&e.removeAttribute("selected"),n?(n.setAttribute("selected","selected"),r.value=t,r.dispatchEvent(i)):console.warn("Form Dropdown Error: Cannot call setValue(), dropdown has no option element with a value attribute of "+t+"."),this._setUISelectedValue(t)},updateOptions:function(t,e){var n,i=this.getUIElement().getElementsByClassName(this.options.optionsContainerClass)[0],r=document.createDocumentFragment();e=e||{},e.replace&&this.clearOptions(),this._updateFormOptionElements(t),t.forEach(function(t){n=document.createElement("div"),n.setAttribute("data-value",t.dataValue),n.classList.add(this.options.optionsClass),n.innerHTML=t.displayValue,r.appendChild(n)}.bind(this)),i.appendChild(r)},clearOptions:function(){var t=this.getUIElement().getElementsByClassName(this.options.optionsContainerClass)[0],e=this.getFormElement();e.innerHTML="",t.innerHTML=""},_updateFormOptionElements:function(t,e){var n,i=this.getFormElement(),r=document.createDocumentFragment();t.forEach(function(t){n=document.createElement("option"),n.setAttribute("value",t.dataValue),n.innerHTML=t.displayValue,r.appendChild(n)}),e&&(i.innerHTML=""),i.appendChild(r)},disable:function(){this.getUIElement().kit.classList.add(this.options.disabledClass),this.getFormElement().disabled=!0},enable:function(){this.getUIElement().kit.classList.remove(this.options.disabledClass),this.getFormElement().disabled=!1},clear:function(){var t=this.getOptionByDataValue("");t&&this.setValue("")},getDisplayValue:function(){return this.getOptionByDataValue(this.getValue()).textContent},destroy:function(){var t=this.options.el;this.unbindUIOptionEvents(),this._unbindUIElementEvents(),t.kit.removeEventListener("change","_onSelectChange",this),t.style.display=this._origDisplayValue,t.tabIndex=this._origTabIndex,this._wrapperEl.parentNode.replaceChild(t,this._wrapperEl)}});e.exports=s},{"./form-element":19,"device-manager":2,"element-kit":3,underscore:17}],19:[function(t,e,n){"use strict";var i=(t("underscore"),t("module-js"));t("element-kit");var r=i.extend({initialize:function(t){this.options=t||{}},getFormElement:function(){return this.options.el},getUIElement:function(){return this.getFormElement()},getFormElements:function(){return[this.getFormElement()]},getValue:function(){return this.getFormElement().value},setValue:function(t){var e=this.getFormElements()[0];e&&(e.value=t)},clear:function(){},getUIElements:function(){return[this.getUIElement()]},enable:function(){this.getFormElement().disabled=!1},disable:function(){this.getFormElement().disabled=!0},getElementKey:function(){return"element"}});e.exports=r},{"element-kit":3,"module-js":16,underscore:17}]},{},[18])(18)});