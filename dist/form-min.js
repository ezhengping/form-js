/** 
* form-js - v3.0.1.
* https://github.com/mkay581/form-js.git
* Copyright 2015 Mark Kennedy. Licensed MIT.
*/

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Form=t()}}(function(){var t;return function e(t,n,i){function s(o,a){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(r)return r(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return s(n?n:e)},c,c.exports,e,t,n,i)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(t,e,n){e.exports=function(){var e=t("events"),n={};return n.createDomain=n.create=function(){function t(t){n.emit("error",t)}var n=new e.EventEmitter;return n.add=function(e){e.on("error",t)},n.remove=function(e){e.removeListener("error",t)},n.bind=function(e){return function(){var n=Array.prototype.slice.call(arguments);try{e.apply(null,n)}catch(i){t(i)}}},n.intercept=function(e){return function(n){if(n)t(n);else{var i=Array.prototype.slice.call(arguments,1);try{e.apply(null,i)}catch(n){t(n)}}}},n.run=function(e){try{e()}catch(n){t(n)}return this},n.dispose=function(){return this.removeAllListeners(),this},n.enter=n.exit=function(){return this},n},n}.call(this)},{events:2}],2:[function(t,e,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(t){return"function"==typeof t}function r(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!r(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,n,i,r,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(s(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,r=new Array(i-1),u=1;i>u;u++)r[u-1]=arguments[u];n.apply(this,r)}else if(o(n)){for(i=arguments.length,r=new Array(i-1),u=1;i>u;u++)r[u-1]=arguments[u];for(l=n.slice(),i=l.length,u=0;i>u;u++)l[u].apply(this,r)}return!0},i.prototype.addListener=function(t,e){var n;if(!s(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,s(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned){var n;n=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!s(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},i.prototype.removeListener=function(t,e){var n,i,r,a;if(!s(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],r=n.length,i=-1,n===e||s(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(a=r;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],s(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?s(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?s(t._events[e])?1:t._events[e].length:0}},{}],3:[function(t,e,n){function i(){if(!a){a=!0;for(var t,e=o.length;e;){t=o,o=[];for(var n=-1;++n<e;)t[n]();e=o.length}a=!1}}function s(){}var r=e.exports={},o=[],a=!1;r.nextTick=function(t){o.push(t),a||setTimeout(i,0)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=s,r.addListener=s,r.once=s,r.off=s,r.removeListener=s,r.removeAllListeners=s,r.emit=s,r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],4:[function(t,e,n){"use strict";var i={createTarget:function(t){this._targets=this._targets||[];var e=this._getTargetMap(t);e.target||(t.addEventListener=this._getEventMethod(t,"_addEvent").bind(this),t.removeEventListener=this._getEventMethod(t,"_removeEvent").bind(this),t.dispatchEvent=this._getEventMethod(t,"_dispatchEvent").bind(this),e.target=t,this._targets.push(e))},_getTargetMap:function(t){return this._targets.filter(function(e){return e.target===t})[0]||{}},_addEvent:function(t,e,n,i,s){"boolean"!=typeof i&&(s=i,i=null),i=i||!1;var r=this.getNested(this._getTargetMap(t),e);r||(r=this.setNested(this._getTargetMap(t),e,[]));var o={listener:n,context:s,useCapture:i};-1===r.indexOf(o)&&r.push(o)},_getEventMethod:function(t,e){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(t),this[e].apply(this,n)}.bind(this)},_removeEvent:function(t,e,n){var i=this.getNested(this._getTargetMap(t),e,[]);i.forEach(function(t,e){t.listener===n&&i.splice(e,1)})},_dispatchEvent:function(t,e,n){var i,s=this._getTargetMap(t)||{};s[e]&&s[e].forEach(function(s){i=this._createEvent(e,n),s.listener.call(s.context||t,i)}.bind(this))},_createEvent:function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n},extend:function(t){var e,n,i=t;for(n=1;n<arguments.length;n++){e=arguments[n];for(var s in e)e.hasOwnProperty(s)&&(i[s]=e[s])}return i},getNested:function(t,e,n){for(var i=e.split("."),s=t,r=0;r<i.length;r++){if(!s[i[r]]){s=n;break}s=s[i[r]]}return s},setNested:function(t,e,n){for(var i=e.split("."),s=t,r=0;r<i.length;r++){var o=r===i.length-1;o?s[i[r]]=n:(s[i[r]]=s[i[r]]||{},s=s[i[r]])}return n},destroyTarget:function(t){var e=this._getTargetMap(t),n=this._targets.indexOf(e);n>-1&&this._targets.splice(n,1)}};e.exports=i},{}],5:[function(t,e,n){"use strict";var i=t("listen-js"),s=function(){this.initialize()};s.prototype={initialize:function(){i.createTarget(this),this._getOrientationChangeListener=function(){var t=this;return function(){t._onOrientationChange.bind(t)}},window.addEventListener("orientationchange",this._getOrientationChangeListener())},_onOrientationChange:function(){var t;t=window.innerHeight<=window.innerWidth?"landscape":"portrait",this.dispatchEvent("orientationchange",{orientation:t})},getUserAgent:function(){return window.navigator.userAgent},isBrowser:function(t){var e,n=t,i=this.getUserAgent();return t?(Array.isArray(t)&&(n=t.join("|")),n.indexOf("safari")>-1?(e=new RegExp("chrome","i"),!e.test(i)):(e=new RegExp(n,"i"),e.test(i))):!0},isMobile:function(){return this.isBrowser(["Android","webOS","iPhone","iPad","iPod","BlackBerry","IEMobile","Opera Mini"])},isOS:function(t){var e=t;Array.isArray(t)&&(e=t.join("|"));var n=new RegExp(e,"i");return n.test(this.getUserAgent())},destroy:function(){window.removeEventListener("orientationchange",this._getOrientationChangeListener()),i.destroyTarget(this)}},e.exports=new s},{"listen-js":4}],6:[function(t,e,n){"use strict";var i,s=t("./element"),r=t("./image-element"),o=0,a={};e.exports=function(){var t=function(t){this.initialize(t)};return t.prototype={initialize:function(){var t=this;i||document.body.kit||(i=Object.defineProperty(window.Element.prototype,"kit",{get:function(){return t.setup(this)}}))},setup:function(t){var e;return a[t._kitId]||(e=t instanceof window.HTMLImageElement?r:s,o++,t._kitId=o,a[t._kitId]=new e(t)),a[t._kitId]},destroy:function(){}},new t}()},{"./element":7,"./image-element":8}],7:[function(t,e,n){"use strict";var i=t("./utils"),s=(t("./element-kit"),function(t){this.initialize(t)});s.prototype={initialize:function(t){this.el=t,this.classList=this._getClassList(),this._eventListenerMap=this._eventListenerMap||[],Object.defineProperty(this,"dataset",{get:function(){return this.getData()}.bind(this)})},_traverseEachParent:function(t,e){for(var n,i=e||this.el;i&&"string"==typeof i.className&&(n=t(i),void 0===n||n);)i=i.parentNode},appendOuterHtml:function(t){var e=this.el.parentNode,n=i.createHtmlElement(t);return e?e.replaceChild(n,this.el):(e=document.createDocumentFragment(),e.appendChild(n)),n.appendChild(this.el),n},getUniqueId:function(){return this.el._kitId},getClosestAncestorElementByClassName:function(t){var e;return this._traverseEachParent(function(n){return n.kit._hasClass(t)?(e=n,!1):void 0},this.el.parentNode),e},addEventListener:function(t,e,n,i){var s=e;i=i||{},"function"!=typeof s&&(s=this._createEventListener(n[e],n)),this.el.addEventListener(t,s,i.useCapture),this._eventListenerMap.push({event:t,listener:s,listenerId:e,context:n})},_createEventListener:function(t,e){return function(n){e=e||this,t.apply(e,arguments)}},removeEventListener:function(t,e,n){var i,s,r=this._eventListenerMap||[];if(r.length)for(i=0;i<r.length;i++)if(s=r[i],s&&s.event===t&&s.listenerId===e&&s.context===n){this.el.removeEventListener(t,s.listener),this._eventListenerMap[i]=null;break}},waitForTransition:function(t){var e=this.getTransitionDuration();t&&(e>0?setTimeout(t.bind(this,this.el),e):t(this.el))},getTransitionDuration:function(){var t,e=this.getCssComputedProperty("transition-delay")||"0ms",n=this.getCssComputedProperty("transition-duration")||"0ms",i=Array.isArray(n)?n:[n],s=Array.isArray(e)?e:[e],r=0;return i.push.apply(i,s),i.forEach(function(e){e.split(",").forEach(function(e){e=this._convertCssTimeValueToMilliseconds(e),t=this._getCssPropUnitMap(e),t.num>r&&(r=t.num)}.bind(this))}.bind(this)),r},getCssComputedProperty:function(t){var e=window.getComputedStyle(this.el);return e.getPropertyValue(t)||this.el.style[this._getJsPropName(t)]},_getCssPropUnitMap:function(t){t.trim();var e=t.match("[0-9.]+"),n="ms";return e=e?e[0]:"",e&&(n=t.split(e)[1],e=Number(e)),{num:e,unit:n}},_convertCssTimeValueToMilliseconds:function(t){var e=this._getCssPropUnitMap(t).num,n=t.replace(e,"");return t="s"===n?1e3*e:e,t+"ms"},_getClassList:function(){return{add:this._addClass.bind(this),remove:this._removeClass.bind(this),contains:this._hasClass.bind(this),toggle:this._toggleClass.bind(this)}},_getCssClasses:function(){return this.el.className.split(" ")},_toggleClass:function(t){this._hasClass(t)?this._removeClass(t):this._addClass(t)},_addClass:function(){"classList"in document.createElement("_")?this._each(arguments,function(t){this.el.classList.add(t)}.bind(this)):this._each(arguments,function(t){this._hasClass(t)||(this.el.className=this.el.className?this.el.className+" "+t:t)}.bind(this))},_each:function(t,e){var n,i=t.length;for(n=0;i>n;n++)e(t[n])},_removeClass:function(){var t;"classList"in document.createElement("_")?this._each(arguments,function(t){this.el.classList.remove(t)}.bind(this)):this._each(arguments,function(e){this.el.className===e?this.el.className="":(t="[\\s]*"+e,t=new RegExp(t,"i"),this.el.className=this.el.className.replace(t,""))}.bind(this))},_hasClass:function(t){var e=this._getCssClasses();return-1!==e.indexOf(t)},_getJsPropName:function(t){return t=t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})},getAttributes:function(){var t=this.el.attributes,e={};if(t.length)for(var n=0;n<t.length;n++)e[t[n].name]=t[n].value;return e},_getDomData:function(){var t,e,n=this.getAttributes(),i={};for(t in n)n.hasOwnProperty(t)&&(e=n[t],0===t.indexOf("data-")&&(t=t.substr(5),i[t]=e));return i},getData:function(){var t;this._data=i.extend({},this._data,this._getDomData());for(t in this._data)if(this._data.hasOwnProperty(t)){var e=this._data[t];Object.defineProperty(this._data,t,{writeable:!0,get:function(){return e}.bind(this),set:function(e){this.setData.bind(this,t,e)}.bind(this)})}return this._data},setData:function(t,e){this.el.setAttribute("data-"+t,e),this._data[t]=e},destroy:function(){}},e.exports=s},{"./element-kit":6,"./utils":9}],8:[function(t,e,n){"use strict";var i=t("./utils"),s=t("./element"),r=function(t){s.prototype.initialize.call(this,t)};r.prototype=i.extend({},s.prototype,{load:function(t,e){var n=this.el,i=n.getAttribute(t)||t;return i||console.warn('ElementKit error: ImageElement has no "'+t+'" attribute to load'),-1!==i.indexOf(",")&&(i=this._getImageSourceSetPath(i)),this._loadImage(i,e),this},_loadImage:function(t,e){var n=this.el;n.onload=function(){e?e(n):null},n.src=t},_getImageSourceSetPath:function(t){var e,n,i,s,r,o=window.innerWidth,a=window.innerHeight;return t.split(",").forEach(function(t){n=this._buildSourceMapWidthHeight(t),i=n.width||0,s=n.height||0,!r&&o>=i&&a>=s&&(e=t.split(" ")[0],r=!0)}.bind(this)),e},_buildSourceMapWidthHeight:function(t,e){var n,i=t.split(" "),s=function(t){return Number(t.substr(0,t.length-1))};return e=e||{},i.shift(),i.forEach(function(t){n=t.charAt(t.length-1),"w"===n?e.width=s(t):"h"===n&&(e.height=s(t))}),e}}),e.exports=r},{"./element":7,"./utils":9}],9:[function(t,e,n){e.exports={createHtmlElement:function(t){var e,n;return t?(t=t.trim(t),e=document.createElement("div"),e.innerHTML=t,n=e.childNodes[0],e.removeChild(n)):void 0},extend:function(t){var e,n,i=t;for(n=1;n<arguments.length;n++){e=arguments[n];for(var s in e)e.hasOwnProperty(s)&&(i[s]=e[s])}return i}}},{}],10:[function(t,e,n){"use strict";e.exports=t("./lib")},{"./lib":15}],11:[function(t,e,n){"use strict";function i(){}function s(t){try{return t.then}catch(e){return m=e,g}}function r(t,e){try{return t(e)}catch(n){return m=n,g}}function o(t,e,n){try{t(e,n)}catch(i){return m=i,g}}function a(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._37=0,this._12=null,this._59=[],t!==i&&p(t,this)}function u(t,e,n){return new t.constructor(function(s,r){var o=new a(i);o.then(s,r),l(t,new f(e,n,o))})}function l(t,e){for(;3===t._37;)t=t._12;return 0===t._37?void t._59.push(e):void v(function(){var n=1===t._37?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._37?c(e.promise,t._12):h(e.promise,t._12));var i=r(n,t._12);i===g?h(e.promise,m):c(e.promise,i)})}function c(t,e){if(e===t)return h(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var n=s(e);if(n===g)return h(t,m);if(n===t.then&&e instanceof a)return t._37=3,t._12=e,void d(t);if("function"==typeof n)return void p(n.bind(e),t)}t._37=1,t._12=e,d(t)}function h(t,e){t._37=2,t._12=e,d(t)}function d(t){for(var e=0;e<t._59.length;e++)l(t,t._59[e]);t._59=null}function f(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function p(t,e){var n=!1,i=o(t,function(t){n||(n=!0,c(e,t))},function(t){n||(n=!0,h(e,t))});n||i!==g||(n=!0,h(e,m))}var v=t("asap/raw"),m=null,g={};e.exports=a,a._99=i,a.prototype.then=function(t,e){if(this.constructor!==a)return u(this,t,e);var n=new a(i);return l(this,new f(t,e,n)),n}},{"asap/raw":19}],12:[function(t,e,n){"use strict";var i=t("./core.js");e.exports=i,i.prototype.done=function(t,e){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(t){setTimeout(function(){throw t},0)})}},{"./core.js":11}],13:[function(t,e,n){"use strict";function i(t){var e=new s(s._99);return e._37=1,e._12=t,e}var s=t("./core.js");e.exports=s;var r=i(!0),o=i(!1),a=i(null),u=i(void 0),l=i(0),c=i("");s.resolve=function(t){if(t instanceof s)return t;if(null===t)return a;if(void 0===t)return u;if(t===!0)return r;if(t===!1)return o;if(0===t)return l;if(""===t)return c;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new s(e.bind(t))}catch(n){return new s(function(t,e){e(n)})}return i(t)},s.all=function(t){var e=Array.prototype.slice.call(t);return new s(function(t,n){function i(o,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof s&&a.then===s.prototype.then){for(;3===a._37;)a=a._12;return 1===a._37?i(o,a._12):(2===a._37&&n(a._12),void a.then(function(t){i(o,t)},n))}var u=a.then;if("function"==typeof u){var l=new s(u.bind(a));return void l.then(function(t){i(o,t)},n)}}e[o]=a,0===--r&&t(e)}if(0===e.length)return t([]);for(var r=e.length,o=0;o<e.length;o++)i(o,e[o])})},s.reject=function(t){return new s(function(e,n){n(t)})},s.race=function(t){return new s(function(e,n){t.forEach(function(t){s.resolve(t).then(e,n)})})},s.prototype["catch"]=function(t){return this.then(null,t)}},{"./core.js":11}],14:[function(t,e,n){"use strict";var i=t("./core.js");e.exports=i,i.prototype["finally"]=function(t){return this.then(function(e){return i.resolve(t()).then(function(){return e})},function(e){return i.resolve(t()).then(function(){throw e})})}},{"./core.js":11}],15:[function(t,e,n){"use strict";e.exports=t("./core.js"),t("./done.js"),t("./finally.js"),t("./es6-extensions.js"),t("./node-extensions.js")},{"./core.js":11,"./done.js":12,"./es6-extensions.js":13,"./finally.js":14,"./node-extensions.js":16}],16:[function(t,e,n){"use strict";var i=t("./core.js"),s=t("asap");e.exports=i,i.denodeify=function(t,e){return e=e||1/0,function(){var n=this,s=Array.prototype.slice.call(arguments,0,e>0?e:0);return new i(function(e,i){s.push(function(t,n){t?i(t):e(n)});var r=t.apply(n,s);!r||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then||e(r)})}},i.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="function"==typeof e[e.length-1]?e.pop():null,r=this;try{return t.apply(this,arguments).nodeify(n,r)}catch(o){if(null===n||"undefined"==typeof n)return new i(function(t,e){e(o)});s(function(){n.call(r,o)})}}},i.prototype.nodeify=function(t,e){return"function"!=typeof t?this:void this.then(function(n){s(function(){t.call(e,null,n)})},function(n){s(function(){t.call(e,n)})})}},{"./core.js":11,asap:17}],17:[function(t,e,n){"use strict";function i(){if(u.length)throw u.shift()}function s(t){var e;e=a.length?a.pop():new r,e.task=t,o(e)}function r(){this.task=null}var o=t("./raw"),a=[],u=[],l=o.makeRequestCallFromTimer(i);e.exports=s,r.prototype.call=function(){try{this.task.call()}catch(t){s.onerror?s.onerror(t):(u.push(t),l())}finally{this.task=null,a[a.length]=this}}},{"./raw":18}],18:[function(t,e,n){(function(t){"use strict";function n(t){a.length||(o(),u=!0),a[a.length]=t}function i(){for(;l<a.length;){var t=l;if(l+=1,a[t].call(),l>c){for(var e=0,n=a.length-l;n>e;e++)a[e]=a[e+l];a.length-=l,l=0}}a.length=0,l=0,u=!1}function s(t){var e=1,n=new h(t),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}function r(t){return function(){function e(){clearTimeout(n),clearInterval(i),t()}var n=setTimeout(e,0),i=setInterval(e,50)}}e.exports=n;var o,a=[],u=!1,l=0,c=1024,h=t.MutationObserver||t.WebKitMutationObserver;o="function"==typeof h?s(i):r(i),n.requestFlush=o,n.makeRequestCallFromTimer=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,e,n){(function(n){"use strict";function i(t){u.length||(r(),l=!0),u[u.length]=t}function s(){for(;c<u.length;){var t=c;if(c+=1,u[t].call(),c>h){for(var e=0,n=u.length-c;n>e;e++)u[e]=u[e+c];u.length-=c,c=0}}u.length=0,c=0,l=!1}function r(){var e=n.domain;e&&(o||(o=t("domain")),o.active=n.domain=null),l&&a?setImmediate(s):n.nextTick(s),e&&(o.active=n.domain=e)}var o,a="function"==typeof setImmediate;e.exports=i;var u=[],l=!1,c=0,h=1024;i.requestFlush=r}).call(this,t("_process"))},{_process:3,domain:1}],20:[function(t,e,n){"use strict";var i=t("promise"),s=t("underscore"),r=function(t){this.initialize(t)},o=function(t,e){var n,i=this;n=t&&s.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},s.extend(n,i,e);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,t&&s.extend(n.prototype,t),n.__super__=i.prototype,n};r.extend=o,r.prototype={initialize:function(t){this.options=s.extend({},{el:null,loadedClass:"module-loaded",activeClass:"module-active",disabledClass:"module-disabled",errorClass:"module-error"},t),this._handleElementInitialState(),this.subModules={},this.active=!1,this.loaded=!1},onLoad:function(t){return i.resolve()},onShow:function(){return i.resolve()},onHide:function(){return i.resolve()},onEnable:function(){return i.resolve()},onDisable:function(){return i.resolve()},onError:function(t){return i.resolve(t)},load:function(t){var e=s.values(this.subModules);return t&&(this.options.el=this.options.el||t.el),this.loaded?i.resolve():i.all(s.invoke(e,"load")).then(function(){return this._ensurePromise(this.onLoad(t)).then(function(){this.loaded=!0,this.options.el&&this.options.el.classList.add(this.options.loadedClass)}.bind(this))["catch"](function(t){return this.error(t),t}.bind(this))}.bind(this))},error:function(t){var e=this.options.el,n=t||new Error,i=n.message||"";return e&&e.classList.add(this.options.errorClass),this.error=!0,this.loaded=!1,console.warn("MODULE ERROR! "+i),n.stack&&console.log(n.stack),this._ensurePromise(this.onError(n)).then(function(t){return t||n})},enable:function(){var t=this.options.el;return t&&t.classList.remove(this.options.disabledClass),this.disabled=!1,this._ensurePromise(this.onEnable())},disable:function(){var t=this.options.el;return t&&t.classList.add(this.options.disabledClass),this.disabled=!0,this._ensurePromise(this.onDisable())},show:function(){var t=this.options.el;return t&&t.classList.add(this.options.activeClass),this.active=!0,this._ensurePromise(this.onShow())},hide:function(){var t=this.options.el;return t&&t.classList.remove(this.options.activeClass),this.active=!1,this._ensurePromise(this.onHide())},_handleElementInitialState:function(){var t=this.options.el;t&&(t.classList.contains(this.options.disabledClass)&&(this._origDisabled=!0,this.disable()),t.classList.contains(this.options.errorClass)&&(this._origError=!0,this.error(new Error)))},_resetElementInitialState:function(){var t=this.options,e=t.el,n=t.disabledClass,i=t.errorClass;e&&(this._origDisabled?e.classList.add(n):e.classList.remove(n),this._origError?e.classList.add(i):e.classList.remove(i))},_ensurePromise:function(t){return t&&t.then||(t=i.resolve()),t},destroy:function(){var t=this.subModules;for(var e in t)t.hasOwnProperty(e)&&t[e]&&t[e].destroy();this.subModules={},this.active=!1,this.loaded=!1,this._resetElementInitialState()}},e.exports=r},{promise:10,underscore:22}],21:[function(t,e,n){(function(t){!function(t){"use strict";function i(){function t(t){e=t}if("function"!=typeof Object.observe||"function"!=typeof Array.observe)return!1;var e=[],n={},i=[];return Object.observe(n,t),Array.observe(i,t),n.id=1,n.id=2,delete n.id,i.push(1,2),i.length=0,Object.deliverChangeRecords(t),5!==e.length?!1:"add"!=e[0].type||"update"!=e[1].type||"delete"!=e[2].type||"splice"!=e[3].type||"splice"!=e[4].type?!1:(Object.unobserve(n,t),Array.unobserve(i,t),!0)}function s(){if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime)return!1;if("undefined"!=typeof navigator&&navigator.getDeviceStorage)return!1;try{var t=new Function("","return true;");return t()}catch(e){return!1}}function r(t){return+t===t>>>0&&""!==t}function o(t){return+t}function a(t){return t===Object(t)}function u(t,e){return t===e?0!==t||1/t===1/e:q(t)&&q(e)?!0:t!==t&&e!==e}function l(t){if(void 0===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return e>=97&&122>=e||e>=65&&90>=e?"ident":e>=49&&57>=e?"number":"else"}function c(){}function h(t){function e(){if(!(d>=t.length)){var e=t[d+1];return"inSingleQuote"==f&&"'"==e||"inDoubleQuote"==f&&'"'==e?(d++,i=e,p.append(),!0):void 0}}for(var n,i,s,r,o,a,u,h=[],d=-1,f="beforePath",p={push:function(){void 0!==s&&(h.push(s),s=void 0)},append:function(){void 0===s?s=i:s+=i}};f;)if(d++,n=t[d],"\\"!=n||!e(f)){if(r=l(n),u=Z[f],o=u[r]||u["else"]||"error","error"==o)return;if(f=o[0],a=p[o[1]]||c,i=void 0===o[2]?n:o[2],a(),"afterPath"===f)return h}}function d(t){return J.test(t)}function f(t,e){if(e!==$)throw Error("Use Path.get to retrieve path objects");for(var n=0;n<t.length;n++)this.push(String(t[n]));R&&this.length&&(this.getValueFrom=this.compiledGetValueFromFn())}function p(t){if(t instanceof f)return t;if((null==t||0==t.length)&&(t=""),"string"!=typeof t){if(r(t.length))return new f(t,$);t=String(t)}var e=X[t];if(e)return e;var n=h(t);if(!n)return Y;var e=new f(n,$);return X[t]=e,e}function v(t){return r(t)?"["+t+"]":'["'+t.replace(/"/g,'\\"')+'"]'}function m(e){for(var n=0;et>n&&e.check_();)n++;return H&&(t.dirtyCheckCycleCount=n),n>0}function g(t){for(var e in t)return!1;return!0}function _(t){return g(t.added)&&g(t.removed)&&g(t.changed)}function b(t,e){var n={},i={},s={};for(var r in e){var o=t[r];(void 0===o||o!==e[r])&&(r in t?o!==e[r]&&(s[r]=o):i[r]=void 0)}for(var r in t)r in e||(n[r]=t[r]);return Array.isArray(t)&&t.length!==e.length&&(s.length=t.length),{added:n,removed:i,changed:s}}function y(){if(!nt.length)return!1;for(var t=0;t<nt.length;t++)nt[t]();return nt.length=0,!0}function E(){function t(t){e&&e.state_===at&&!i&&e.check_(t)}var e,n,i=!1,s=!0;return{open:function(n){if(e)throw Error("ObservedObject in use");s||Object.deliverChangeRecords(t),e=n,s=!1},observe:function(e,i){n=e,i?Array.observe(n,t):Object.observe(n,t)},deliver:function(e){i=e,Object.deliverChangeRecords(t),i=!1},close:function(){e=void 0,Object.unobserve(n,t),st.push(this)}}}function C(t,e,n){var i=st.pop()||E();return i.open(t),i.observe(e,n),i}function k(){function t(e,r){e&&(e===i&&(s[r]=!0),a.indexOf(e)<0&&(a.push(e),Object.observe(e,n)),t(Object.getPrototypeOf(e),r))}function e(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.object!==i||s[n.name]||"setPrototype"===n.type)return!1}return!0}function n(n){if(!e(n)){for(var i,s=0;s<o.length;s++)i=o[s],i.state_==at&&i.iterateObjects_(t);for(var s=0;s<o.length;s++)i=o[s],i.state_==at&&i.check_()}}var i,s,r=0,o=[],a=[],u={objects:a,get rootObject(){return i},set rootObject(t){i=t,s={}},open:function(e,n){o.push(e),r++,e.iterateObjects_(t)},close:function(t){if(r--,!(r>0)){for(var e=0;e<a.length;e++)Object.unobserve(a[e],n),I.unobservedCount++;o.length=0,a.length=0,i=void 0,s=void 0,rt.push(this),tt===this&&(tt=null)}}};return u}function w(t,e){return tt&&tt.rootObject===e||(tt=rt.pop()||k(),tt.rootObject=e),tt.open(t,e),tt}function I(){this.state_=ot,this.callback_=void 0,this.target_=void 0,this.directObserver_=void 0,this.value_=void 0,this.id_=ct++}function x(t){I._allObserversCount++,dt&&ht.push(t)}function O(t){I._allObserversCount--}function L(t){I.call(this),this.value_=t,this.oldObject_=void 0}function j(t){if(!Array.isArray(t))throw Error("Provided object is not an Array");L.call(this,t)}function F(t,e){I.call(this),this.object_=t,this.path_=p(e),this.directObserver_=void 0}function A(t){I.call(this),this.reportChangesOnOpen_=t,this.value_=[],this.directObserver_=void 0,this.observed_=[]}function U(t){return t}function V(t,e,n,i){this.callback_=void 0,this.target_=void 0,this.value_=void 0,this.observable_=t,this.getValueFn_=e||U,this.setValueFn_=n||U,this.dontPassThroughSet_=i}function S(t,e,n){for(var i={},s={},r=0;r<e.length;r++){var o=e[r];vt[o.type]?(o.name in n||(n[o.name]=o.oldValue),"update"!=o.type&&("add"!=o.type?o.name in i?(delete i[o.name],delete n[o.name]):s[o.name]=!0:o.name in s?delete s[o.name]:i[o.name]=!0)):(console.error("Unknown changeRecord type: "+o.type),console.error(o))}for(var a in i)i[a]=t[a];for(var a in s)s[a]=void 0;var u={};for(var a in n)if(!(a in i||a in s)){var l=t[a];n[a]!==l&&(u[a]=l)}return{added:i,removed:s,changed:u}}function D(t,e,n){return{index:t,removed:e,addedCount:n}}function M(){}function B(t,e,n,i,s,r){return yt.calcSplices(t,e,n,i,s,r)}function T(t,e,n,i){return n>e||t>i?-1:e==n||i==t?0:n>t?i>e?e-n:i-n:e>i?i-t:e-t}function N(t,e,n,i){for(var s=D(e,n,i),r=!1,o=0,a=0;a<t.length;a++){var u=t[a];if(u.index+=o,!r){var l=T(s.index,s.index+s.removed.length,u.index,u.index+u.addedCount);if(l>=0){t.splice(a,1),a--,o-=u.addedCount-u.removed.length,s.addedCount+=u.addedCount-l;var c=s.removed.length+u.removed.length-l;if(s.addedCount||c){var n=u.removed;if(s.index<u.index){var h=s.removed.slice(0,u.index-s.index);Array.prototype.push.apply(h,n),n=h}if(s.index+s.removed.length>u.index+u.addedCount){var d=s.removed.slice(u.index+u.addedCount-s.index);Array.prototype.push.apply(n,d)}s.removed=n,u.index<s.index&&(s.index=u.index)}else r=!0}else if(s.index<u.index){r=!0,t.splice(a,0,s),a++;var f=s.addedCount-s.removed.length;u.index+=f,o+=f}}}r||t.push(s)}function P(t,e){for(var n=[],i=0;i<e.length;i++){var s=e[i];switch(s.type){case"splice":N(n,s.index,s.removed.slice(),s.addedCount);break;case"add":case"update":case"delete":if(!r(s.name))continue;var a=o(s.name);if(0>a)continue;N(n,a,[s.oldValue],1);break;default:console.error("Unexpected record type: "+JSON.stringify(s))}}return n}function K(t,e){var n=[];return P(t,e).forEach(function(e){return 1==e.addedCount&&1==e.removed.length?void(e.removed[0]!==t[e.index]&&n.push(e)):void(n=n.concat(B(t,e.index,e.index+e.addedCount,e.removed,0,e.removed.length)))}),n}var H=t.testingExposeCycleCount,z=i(),R=s(),q=t.Number.isNaN||function(e){return"number"==typeof e&&t.isNaN(e)},G="__proto__"in{}?function(t){return t}:function(t){var e=t.__proto__;if(!e)return t;var n=Object.create(e);return Object.getOwnPropertyNames(t).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}),n},Q="[$_a-zA-Z]",W="[$_a-zA-Z0-9]",J=new RegExp("^"+Q+"+"+W+"*$"),Z={beforePath:{ws:["beforePath"],ident:["inIdent","append"],"[":["beforeElement"],eof:["afterPath"]},inPath:{ws:["inPath"],".":["beforeIdent"],"[":["beforeElement"],eof:["afterPath"]},beforeIdent:{ws:["beforeIdent"],ident:["inIdent","append"]},inIdent:{ident:["inIdent","append"],0:["inIdent","append"],number:["inIdent","append"],ws:["inPath","push"],".":["beforeIdent","push"],"[":["beforeElement","push"],eof:["afterPath","push"]},beforeElement:{ws:["beforeElement"],0:["afterZero","append"],number:["inIndex","append"],"'":["inSingleQuote","append",""],'"':["inDoubleQuote","append",""]},afterZero:{ws:["afterElement","push"],"]":["inPath","push"]},inIndex:{0:["inIndex","append"],number:["inIndex","append"],ws:["afterElement"],"]":["inPath","push"]},inSingleQuote:{"'":["afterElement"],eof:["error"],"else":["inSingleQuote","append"]},inDoubleQuote:{'"':["afterElement"],eof:["error"],"else":["inDoubleQuote","append"]},afterElement:{ws:["afterElement"],"]":["inPath","push"]}},$={},X={};f.get=p,f.prototype=G({
__proto__:[],valid:!0,toString:function(){for(var t="",e=0;e<this.length;e++){var n=this[e];t+=d(n)?e?"."+n:n:v(n)}return t},getValueFrom:function(t,e){for(var n=0;n<this.length;n++){if(null==t)return;t=t[this[n]]}return t},iterateObjects:function(t,e){for(var n=0;n<this.length;n++){if(n&&(t=t[this[n-1]]),!a(t))return;e(t,this[n])}},compiledGetValueFromFn:function(){var t="",e="obj";t+="if (obj != null";for(var n,i=0;i<this.length-1;i++)n=this[i],e+=d(n)?"."+n:v(n),t+=" &&\n     "+e+" != null";t+=")\n";var n=this[i];return e+=d(n)?"."+n:v(n),t+="  return "+e+";\nelse\n  return undefined;",new Function("obj",t)},setValueFrom:function(t,e){if(!this.length)return!1;for(var n=0;n<this.length-1;n++){if(!a(t))return!1;t=t[this[n]]}return a(t)?(t[this[n]]=e,!0):!1}});var Y=new f("",$);Y.valid=!1,Y.getValueFrom=Y.setValueFrom=function(){};var tt,et=1e3,nt=[],it=z?function(){return function(t){return Promise.resolve().then(t)}}():function(){return function(t){nt.push(t)}}(),st=[],rt=[],ot=0,at=1,ut=2,lt=3,ct=1;I.prototype={open:function(t,e){if(this.state_!=ot)throw Error("Observer has already been opened.");return x(this),this.callback_=t,this.target_=e,this.connect_(),this.state_=at,this.value_},close:function(){this.state_==at&&(O(this),this.disconnect_(),this.value_=void 0,this.callback_=void 0,this.target_=void 0,this.state_=ut)},deliver:function(){this.state_==at&&m(this)},report_:function(t){try{this.callback_.apply(this.target_,t)}catch(e){I._errorThrownDuringCallback=!0,console.error("Exception caught during observer callback: "+(e.stack||e))}},discardChanges:function(){return this.check_(void 0,!0),this.value_}};var ht,dt=!z;I._allObserversCount=0,dt&&(ht=[]);var ft=!1;t.Platform=t.Platform||{},t.Platform.performMicrotaskCheckpoint=function(){if(!ft&&dt){ft=!0;var e,n,i=0;do{i++,n=ht,ht=[],e=!1;for(var s=0;s<n.length;s++){var r=n[s];r.state_==at&&(r.check_()&&(e=!0),ht.push(r))}y()&&(e=!0)}while(et>i&&e);H&&(t.dirtyCheckCycleCount=i),ft=!1}},dt&&(t.Platform.clearObservers=function(){ht=[]}),L.prototype=G({__proto__:I.prototype,arrayObserve:!1,connect_:function(t,e){z?this.directObserver_=C(this,this.value_,this.arrayObserve):this.oldObject_=this.copyObject(this.value_)},copyObject:function(t){var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=t[n];return Array.isArray(t)&&(e.length=t.length),e},check_:function(t,e){var n,i;if(z){if(!t)return!1;i={},n=S(this.value_,t,i)}else i=this.oldObject_,n=b(this.value_,this.oldObject_);return _(n)?!1:(z||(this.oldObject_=this.copyObject(this.value_)),this.report_([n.added||{},n.removed||{},n.changed||{},function(t){return i[t]}]),!0)},disconnect_:function(){z?(this.directObserver_.close(),this.directObserver_=void 0):this.oldObject_=void 0},deliver:function(){this.state_==at&&(z?this.directObserver_.deliver(!1):m(this))},discardChanges:function(){return this.directObserver_?this.directObserver_.deliver(!0):this.oldObject_=this.copyObject(this.value_),this.value_}}),j.prototype=G({__proto__:L.prototype,arrayObserve:!0,copyObject:function(t){return t.slice()},check_:function(t){var e;if(z){if(!t)return!1;e=K(this.value_,t)}else e=B(this.value_,0,this.value_.length,this.oldObject_,0,this.oldObject_.length);return e&&e.length?(z||(this.oldObject_=this.copyObject(this.value_)),this.report_([e]),!0):!1}}),j.applySplices=function(t,e,n){n.forEach(function(n){for(var i=[n.index,n.removed.length],s=n.index;s<n.index+n.addedCount;)i.push(e[s]),s++;Array.prototype.splice.apply(t,i)})},F.prototype=G({__proto__:I.prototype,get path(){return this.path_},connect_:function(){z&&(this.directObserver_=w(this,this.object_)),this.check_(void 0,!0)},disconnect_:function(){this.value_=void 0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},iterateObjects_:function(t){this.path_.iterateObjects(this.object_,t)},check_:function(t,e){var n=this.value_;return this.value_=this.path_.getValueFrom(this.object_),e||u(this.value_,n)?!1:(this.report_([this.value_,n,this]),!0)},setValue:function(t){this.path_&&this.path_.setValueFrom(this.object_,t)}});var pt={};A.prototype=G({__proto__:I.prototype,connect_:function(){if(z){for(var t,e=!1,n=0;n<this.observed_.length;n+=2)if(t=this.observed_[n],t!==pt){e=!0;break}e&&(this.directObserver_=w(this,t))}this.check_(void 0,!this.reportChangesOnOpen_)},disconnect_:function(){for(var t=0;t<this.observed_.length;t+=2)this.observed_[t]===pt&&this.observed_[t+1].close();this.observed_.length=0,this.value_.length=0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},addPath:function(t,e){if(this.state_!=ot&&this.state_!=lt)throw Error("Cannot add paths once started.");var e=p(e);if(this.observed_.push(t,e),this.reportChangesOnOpen_){var n=this.observed_.length/2-1;this.value_[n]=e.getValueFrom(t)}},addObserver:function(t){if(this.state_!=ot&&this.state_!=lt)throw Error("Cannot add observers once started.");if(this.observed_.push(pt,t),this.reportChangesOnOpen_){var e=this.observed_.length/2-1;this.value_[e]=t.open(this.deliver,this)}},startReset:function(){if(this.state_!=at)throw Error("Can only reset while open");this.state_=lt,this.disconnect_()},finishReset:function(){if(this.state_!=lt)throw Error("Can only finishReset after startReset");return this.state_=at,this.connect_(),this.value_},iterateObjects_:function(t){for(var e,n=0;n<this.observed_.length;n+=2)e=this.observed_[n],e!==pt&&this.observed_[n+1].iterateObjects(e,t)},check_:function(t,e){for(var n,i=0;i<this.observed_.length;i+=2){var s,r=this.observed_[i],o=this.observed_[i+1];if(r===pt){var a=o;s=this.state_===ot?a.open(this.deliver,this):a.discardChanges()}else s=o.getValueFrom(r);e?this.value_[i/2]=s:u(s,this.value_[i/2])||(n=n||[],n[i/2]=this.value_[i/2],this.value_[i/2]=s)}return n?(this.report_([this.value_,n,this.observed_]),!0):!1}}),V.prototype={open:function(t,e){return this.callback_=t,this.target_=e,this.value_=this.getValueFn_(this.observable_.open(this.observedCallback_,this)),this.value_},observedCallback_:function(t){if(t=this.getValueFn_(t),!u(t,this.value_)){var e=this.value_;this.value_=t,this.callback_.call(this.target_,this.value_,e)}},discardChanges:function(){return this.value_=this.getValueFn_(this.observable_.discardChanges()),this.value_},deliver:function(){return this.observable_.deliver()},setValue:function(t){return t=this.setValueFn_(t),!this.dontPassThroughSet_&&this.observable_.setValue?this.observable_.setValue(t):void 0},close:function(){this.observable_&&this.observable_.close(),this.callback_=void 0,this.target_=void 0,this.observable_=void 0,this.value_=void 0,this.getValueFn_=void 0,this.setValueFn_=void 0}};var vt={add:!0,update:!0,"delete":!0},mt=0,gt=1,_t=2,bt=3;M.prototype={calcEditDistances:function(t,e,n,i,s,r){for(var o=r-s+1,a=n-e+1,u=new Array(o),l=0;o>l;l++)u[l]=new Array(a),u[l][0]=l;for(var c=0;a>c;c++)u[0][c]=c;for(var l=1;o>l;l++)for(var c=1;a>c;c++)if(this.equals(t[e+c-1],i[s+l-1]))u[l][c]=u[l-1][c-1];else{var h=u[l-1][c]+1,d=u[l][c-1]+1;u[l][c]=d>h?h:d}return u},spliceOperationsFromEditDistances:function(t){for(var e=t.length-1,n=t[0].length-1,i=t[e][n],s=[];e>0||n>0;)if(0!=e)if(0!=n){var r,o=t[e-1][n-1],a=t[e-1][n],u=t[e][n-1];r=u>a?o>a?a:o:o>u?u:o,r==o?(o==i?s.push(mt):(s.push(gt),i=o),e--,n--):r==a?(s.push(bt),e--,i=a):(s.push(_t),n--,i=u)}else s.push(bt),e--;else s.push(_t),n--;return s.reverse(),s},calcSplices:function(t,e,n,i,s,r){var o=0,a=0,u=Math.min(n-e,r-s);if(0==e&&0==s&&(o=this.sharedPrefix(t,i,u)),n==t.length&&r==i.length&&(a=this.sharedSuffix(t,i,u-o)),e+=o,s+=o,n-=a,r-=a,n-e==0&&r-s==0)return[];if(e==n){for(var l=D(e,[],0);r>s;)l.removed.push(i[s++]);return[l]}if(s==r)return[D(e,[],n-e)];for(var c=this.spliceOperationsFromEditDistances(this.calcEditDistances(t,e,n,i,s,r)),l=void 0,h=[],d=e,f=s,p=0;p<c.length;p++)switch(c[p]){case mt:l&&(h.push(l),l=void 0),d++,f++;break;case gt:l||(l=D(d,[],0)),l.addedCount++,d++,l.removed.push(i[f]),f++;break;case _t:l||(l=D(d,[],0)),l.addedCount++,d++;break;case bt:l||(l=D(d,[],0)),l.removed.push(i[f]),f++}return l&&h.push(l),h},sharedPrefix:function(t,e,n){for(var i=0;n>i;i++)if(!this.equals(t[i],e[i]))return i;return n},sharedSuffix:function(t,e,n){for(var i=t.length,s=e.length,r=0;n>r&&this.equals(t[--i],e[--s]);)r++;return r},calculateSplices:function(t,e){return this.calcSplices(t,0,t.length,e,0,e.length)},equals:function(t,e){return t===e}};var yt=new M,Et=t;"undefined"!=typeof n&&("undefined"!=typeof e&&e.exports&&(Et=n=e.exports),Et=n),Et.Observer=I,Et.Observer.runEOM_=it,Et.Observer.observerSentinel_=pt,Et.Observer.hasObjectObserve=z,Et.ArrayObserver=j,Et.ArrayObserver.calculateSplices=function(t,e){return yt.calculateSplices(t,e)},Et.ArraySplice=M,Et.ObjectObserver=L,Et.PathObserver=F,Et.CompoundObserver=A,Et.Path=f,Et.ObserverTransform=V}("undefined"!=typeof t&&t&&"undefined"!=typeof e&&e?t:this||window)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],22:[function(e,n,i){(function(){function e(t){function e(e,n,i,s,r,o){for(;r>=0&&o>r;r+=t){var a=s?s[r]:r;i=n(i,e[a],a,e)}return i}return function(n,i,s,r){i=C(i,r,4);var o=!j(n)&&E.keys(n),a=(o||n).length,u=t>0?0:a-1;return arguments.length<3&&(s=n[o?o[u]:u],u+=t),e(n,i,s,o,u,a)}}function s(t){return function(e,n,i){n=k(n,i);for(var s=L(e),r=t>0?0:s-1;r>=0&&s>r;r+=t)if(n(e[r],r,e))return r;return-1}}function r(t,e,n){return function(i,s,r){var o=0,a=L(i);if("number"==typeof r)t>0?o=r>=0?r:Math.max(r+a,o):a=r>=0?Math.min(r+1,a):r+a+1;else if(n&&r&&a)return r=n(i,s),i[r]===s?r:-1;if(s!==s)return r=e(f.call(i,o,a),E.isNaN),r>=0?r+o:-1;for(r=t>0?o:a-1;r>=0&&a>r;r+=t)if(i[r]===s)return r;return-1}}function o(t,e){var n=S.length,i=t.constructor,s=E.isFunction(i)&&i.prototype||c,r="constructor";for(E.has(t,r)&&!E.contains(e,r)&&e.push(r);n--;)r=S[n],r in t&&t[r]!==s[r]&&!E.contains(e,r)&&e.push(r)}var a=this,u=a._,l=Array.prototype,c=Object.prototype,h=Function.prototype,d=l.push,f=l.slice,p=c.toString,v=c.hasOwnProperty,m=Array.isArray,g=Object.keys,_=h.bind,b=Object.create,y=function(){},E=function(t){return t instanceof E?t:this instanceof E?void(this._wrapped=t):new E(t)};"undefined"!=typeof i?("undefined"!=typeof n&&n.exports&&(i=n.exports=E),i._=E):a._=E,E.VERSION="1.8.3";var C=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,s){return t.call(e,n,i,s)};case 4:return function(n,i,s,r){return t.call(e,n,i,s,r)}}return function(){return t.apply(e,arguments)}},k=function(t,e,n){return null==t?E.identity:E.isFunction(t)?C(t,e,n):E.isObject(t)?E.matcher(t):E.property(t)};E.iteratee=function(t,e){return k(t,e,1/0)};var w=function(t,e){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var s=1;i>s;s++)for(var r=arguments[s],o=t(r),a=o.length,u=0;a>u;u++){var l=o[u];e&&void 0!==n[l]||(n[l]=r[l])}return n}},I=function(t){if(!E.isObject(t))return{};if(b)return b(t);y.prototype=t;var e=new y;return y.prototype=null,e},x=function(t){return function(e){return null==e?void 0:e[t]}},O=Math.pow(2,53)-1,L=x("length"),j=function(t){var e=L(t);return"number"==typeof e&&e>=0&&O>=e};E.each=E.forEach=function(t,e,n){e=C(e,n);var i,s;if(j(t))for(i=0,s=t.length;s>i;i++)e(t[i],i,t);else{var r=E.keys(t);for(i=0,s=r.length;s>i;i++)e(t[r[i]],r[i],t)}return t},E.map=E.collect=function(t,e,n){e=k(e,n);for(var i=!j(t)&&E.keys(t),s=(i||t).length,r=Array(s),o=0;s>o;o++){var a=i?i[o]:o;r[o]=e(t[a],a,t)}return r},E.reduce=E.foldl=E.inject=e(1),E.reduceRight=E.foldr=e(-1),E.find=E.detect=function(t,e,n){var i;return i=j(t)?E.findIndex(t,e,n):E.findKey(t,e,n),void 0!==i&&-1!==i?t[i]:void 0},E.filter=E.select=function(t,e,n){var i=[];return e=k(e,n),E.each(t,function(t,n,s){e(t,n,s)&&i.push(t)}),i},E.reject=function(t,e,n){return E.filter(t,E.negate(k(e)),n)},E.every=E.all=function(t,e,n){e=k(e,n);for(var i=!j(t)&&E.keys(t),s=(i||t).length,r=0;s>r;r++){var o=i?i[r]:r;if(!e(t[o],o,t))return!1}return!0},E.some=E.any=function(t,e,n){e=k(e,n);for(var i=!j(t)&&E.keys(t),s=(i||t).length,r=0;s>r;r++){var o=i?i[r]:r;if(e(t[o],o,t))return!0}return!1},E.contains=E.includes=E.include=function(t,e,n,i){return j(t)||(t=E.values(t)),("number"!=typeof n||i)&&(n=0),E.indexOf(t,e,n)>=0},E.invoke=function(t,e){var n=f.call(arguments,2),i=E.isFunction(e);return E.map(t,function(t){var s=i?e:t[e];return null==s?s:s.apply(t,n)})},E.pluck=function(t,e){return E.map(t,E.property(e))},E.where=function(t,e){return E.filter(t,E.matcher(e))},E.findWhere=function(t,e){return E.find(t,E.matcher(e))},E.max=function(t,e,n){var i,s,r=-(1/0),o=-(1/0);if(null==e&&null!=t){t=j(t)?t:E.values(t);for(var a=0,u=t.length;u>a;a++)i=t[a],i>r&&(r=i)}else e=k(e,n),E.each(t,function(t,n,i){s=e(t,n,i),(s>o||s===-(1/0)&&r===-(1/0))&&(r=t,o=s)});return r},E.min=function(t,e,n){var i,s,r=1/0,o=1/0;if(null==e&&null!=t){t=j(t)?t:E.values(t);for(var a=0,u=t.length;u>a;a++)i=t[a],r>i&&(r=i)}else e=k(e,n),E.each(t,function(t,n,i){s=e(t,n,i),(o>s||s===1/0&&r===1/0)&&(r=t,o=s)});return r},E.shuffle=function(t){for(var e,n=j(t)?t:E.values(t),i=n.length,s=Array(i),r=0;i>r;r++)e=E.random(0,r),e!==r&&(s[r]=s[e]),s[e]=n[r];return s},E.sample=function(t,e,n){return null==e||n?(j(t)||(t=E.values(t)),t[E.random(t.length-1)]):E.shuffle(t).slice(0,Math.max(0,e))},E.sortBy=function(t,e,n){return e=k(e,n),E.pluck(E.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var F=function(t){return function(e,n,i){var s={};return n=k(n,i),E.each(e,function(i,r){var o=n(i,r,e);t(s,i,o)}),s}};E.groupBy=F(function(t,e,n){E.has(t,n)?t[n].push(e):t[n]=[e]}),E.indexBy=F(function(t,e,n){t[n]=e}),E.countBy=F(function(t,e,n){E.has(t,n)?t[n]++:t[n]=1}),E.toArray=function(t){return t?E.isArray(t)?f.call(t):j(t)?E.map(t,E.identity):E.values(t):[]},E.size=function(t){return null==t?0:j(t)?t.length:E.keys(t).length},E.partition=function(t,e,n){e=k(e,n);var i=[],s=[];return E.each(t,function(t,n,r){(e(t,n,r)?i:s).push(t)}),[i,s]},E.first=E.head=E.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:E.initial(t,t.length-e)},E.initial=function(t,e,n){return f.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},E.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:E.rest(t,Math.max(0,t.length-e))},E.rest=E.tail=E.drop=function(t,e,n){return f.call(t,null==e||n?1:e)},E.compact=function(t){return E.filter(t,E.identity)};var A=function(t,e,n,i){for(var s=[],r=0,o=i||0,a=L(t);a>o;o++){var u=t[o];if(j(u)&&(E.isArray(u)||E.isArguments(u))){e||(u=A(u,e,n));var l=0,c=u.length;for(s.length+=c;c>l;)s[r++]=u[l++]}else n||(s[r++]=u)}return s};E.flatten=function(t,e){return A(t,e,!1)},E.without=function(t){return E.difference(t,f.call(arguments,1))},E.uniq=E.unique=function(t,e,n,i){E.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=k(n,i));for(var s=[],r=[],o=0,a=L(t);a>o;o++){var u=t[o],l=n?n(u,o,t):u;e?(o&&r===l||s.push(u),r=l):n?E.contains(r,l)||(r.push(l),s.push(u)):E.contains(s,u)||s.push(u)}return s},E.union=function(){return E.uniq(A(arguments,!0,!0))},E.intersection=function(t){for(var e=[],n=arguments.length,i=0,s=L(t);s>i;i++){var r=t[i];if(!E.contains(e,r)){for(var o=1;n>o&&E.contains(arguments[o],r);o++);o===n&&e.push(r)}}return e},E.difference=function(t){var e=A(arguments,!0,!0,1);return E.filter(t,function(t){return!E.contains(e,t)})},E.zip=function(){return E.unzip(arguments)},E.unzip=function(t){for(var e=t&&E.max(t,L).length||0,n=Array(e),i=0;e>i;i++)n[i]=E.pluck(t,i);return n},E.object=function(t,e){for(var n={},i=0,s=L(t);s>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},E.findIndex=s(1),E.findLastIndex=s(-1),E.sortedIndex=function(t,e,n,i){n=k(n,i,1);for(var s=n(e),r=0,o=L(t);o>r;){var a=Math.floor((r+o)/2);n(t[a])<s?r=a+1:o=a}return r},E.indexOf=r(1,E.findIndex,E.sortedIndex),E.lastIndexOf=r(-1,E.findLastIndex),E.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),s=Array(i),r=0;i>r;r++,t+=n)s[r]=t;return s};var U=function(t,e,n,i,s){if(!(i instanceof e))return t.apply(n,s);var r=I(t.prototype),o=t.apply(r,s);return E.isObject(o)?o:r};E.bind=function(t,e){if(_&&t.bind===_)return _.apply(t,f.call(arguments,1));if(!E.isFunction(t))throw new TypeError("Bind must be called on a function");var n=f.call(arguments,2),i=function(){return U(t,i,e,this,n.concat(f.call(arguments)))};return i},E.partial=function(t){var e=f.call(arguments,1),n=function(){for(var i=0,s=e.length,r=Array(s),o=0;s>o;o++)r[o]=e[o]===E?arguments[i++]:e[o];for(;i<arguments.length;)r.push(arguments[i++]);return U(t,n,this,this,r)};return n},E.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=E.bind(t[n],t);return t},E.memoize=function(t,e){var n=function(i){var s=n.cache,r=""+(e?e.apply(this,arguments):i);return E.has(s,r)||(s[r]=t.apply(this,arguments)),s[r]};return n.cache={},n},E.delay=function(t,e){var n=f.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},E.defer=E.partial(E.delay,E,1),E.throttle=function(t,e,n){var i,s,r,o=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:E.now(),o=null,r=t.apply(i,s),o||(i=s=null)};return function(){var l=E.now();a||n.leading!==!1||(a=l);var c=e-(l-a);return i=this,s=arguments,0>=c||c>e?(o&&(clearTimeout(o),o=null),a=l,r=t.apply(i,s),o||(i=s=null)):o||n.trailing===!1||(o=setTimeout(u,c)),r}},E.debounce=function(t,e,n){var i,s,r,o,a,u=function(){var l=E.now()-o;e>l&&l>=0?i=setTimeout(u,e-l):(i=null,n||(a=t.apply(r,s),i||(r=s=null)))};return function(){r=this,s=arguments,o=E.now();var l=n&&!i;return i||(i=setTimeout(u,e)),l&&(a=t.apply(r,s),r=s=null),a}},E.wrap=function(t,e){return E.partial(e,t)},E.negate=function(t){return function(){return!t.apply(this,arguments)}},E.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},E.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},E.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},E.once=E.partial(E.before,2);var V=!{toString:null}.propertyIsEnumerable("toString"),S=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];E.keys=function(t){if(!E.isObject(t))return[];if(g)return g(t);var e=[];for(var n in t)E.has(t,n)&&e.push(n);return V&&o(t,e),e},E.allKeys=function(t){if(!E.isObject(t))return[];var e=[];for(var n in t)e.push(n);return V&&o(t,e),e},E.values=function(t){for(var e=E.keys(t),n=e.length,i=Array(n),s=0;n>s;s++)i[s]=t[e[s]];return i},E.mapObject=function(t,e,n){e=k(e,n);for(var i,s=E.keys(t),r=s.length,o={},a=0;r>a;a++)i=s[a],o[i]=e(t[i],i,t);return o},E.pairs=function(t){for(var e=E.keys(t),n=e.length,i=Array(n),s=0;n>s;s++)i[s]=[e[s],t[e[s]]];return i},E.invert=function(t){for(var e={},n=E.keys(t),i=0,s=n.length;s>i;i++)e[t[n[i]]]=n[i];return e},E.functions=E.methods=function(t){var e=[];for(var n in t)E.isFunction(t[n])&&e.push(n);return e.sort()},E.extend=w(E.allKeys),E.extendOwn=E.assign=w(E.keys),E.findKey=function(t,e,n){e=k(e,n);for(var i,s=E.keys(t),r=0,o=s.length;o>r;r++)if(i=s[r],e(t[i],i,t))return i},E.pick=function(t,e,n){var i,s,r={},o=t;if(null==o)return r;E.isFunction(e)?(s=E.allKeys(o),i=C(e,n)):(s=A(arguments,!1,!1,1),i=function(t,e,n){return e in n},o=Object(o));for(var a=0,u=s.length;u>a;a++){var l=s[a],c=o[l];i(c,l,o)&&(r[l]=c)}return r},E.omit=function(t,e,n){if(E.isFunction(e))e=E.negate(e);else{var i=E.map(A(arguments,!1,!1,1),String);e=function(t,e){return!E.contains(i,e)}}return E.pick(t,e,n)},E.defaults=w(E.allKeys,!0),E.create=function(t,e){var n=I(t);return e&&E.extendOwn(n,e),n},E.clone=function(t){return E.isObject(t)?E.isArray(t)?t.slice():E.extend({},t):t},E.tap=function(t,e){return e(t),t},E.isMatch=function(t,e){var n=E.keys(e),i=n.length;if(null==t)return!i;for(var s=Object(t),r=0;i>r;r++){var o=n[r];if(e[o]!==s[o]||!(o in s))return!1}return!0};var D=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof E&&(t=t._wrapped),e instanceof E&&(e=e._wrapped);var s=p.call(t);if(s!==p.call(e))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var r="[object Array]"===s;if(!r){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(E.isFunction(o)&&o instanceof o&&E.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),r){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!D(t[u],e[u],n,i))return!1}else{var l,c=E.keys(t);if(u=c.length,E.keys(e).length!==u)return!1;for(;u--;)if(l=c[u],!E.has(e,l)||!D(t[l],e[l],n,i))return!1}return n.pop(),i.pop(),!0};E.isEqual=function(t,e){return D(t,e)},E.isEmpty=function(t){return null==t?!0:j(t)&&(E.isArray(t)||E.isString(t)||E.isArguments(t))?0===t.length:0===E.keys(t).length},E.isElement=function(t){return!(!t||1!==t.nodeType)},E.isArray=m||function(t){return"[object Array]"===p.call(t)},E.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},E.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){E["is"+t]=function(e){return p.call(e)==="[object "+t+"]"}}),E.isArguments(arguments)||(E.isArguments=function(t){return E.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(E.isFunction=function(t){return"function"==typeof t||!1}),E.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},E.isNaN=function(t){return E.isNumber(t)&&t!==+t},E.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===p.call(t)},E.isNull=function(t){return null===t},E.isUndefined=function(t){return void 0===t},E.has=function(t,e){return null!=t&&v.call(t,e)},E.noConflict=function(){return a._=u,this},E.identity=function(t){return t},E.constant=function(t){return function(){return t}},E.noop=function(){},E.property=x,E.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},E.matcher=E.matches=function(t){return t=E.extendOwn({},t),function(e){return E.isMatch(e,t)}},E.times=function(t,e,n){var i=Array(Math.max(0,t));e=C(e,n,1);for(var s=0;t>s;s++)i[s]=e(s);return i},E.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},E.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=E.invert(M),T=function(t){var e=function(e){return t[e]},n="(?:"+E.keys(t).join("|")+")",i=RegExp(n),s=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(s,e):t}};E.escape=T(M),E.unescape=T(B),E.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),E.isFunction(i)?i.call(t):i};var N=0;E.uniqueId=function(t){var e=++N+"";return t?t+e:e},E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,z=function(t){return"\\"+K[t]};E.template=function(t,e,n){!e&&n&&(e=n),e=E.defaults({},e,E.templateSettings);var i=RegExp([(e.escape||P).source,(e.interpolate||P).source,(e.evaluate||P).source].join("|")+"|$","g"),s=0,r="__p+='";t.replace(i,function(e,n,i,o,a){return r+=t.slice(s,a).replace(H,z),s=a+e.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(r+="';\n"+o+"\n__p+='"),e}),r+="';\n",e.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var o=new Function(e.variable||"obj","_",r)}catch(a){throw a.source=r,a}var u=function(t){return o.call(this,t,E)},l=e.variable||"obj";return u.source="function("+l+"){\n"+r+"}",u},E.chain=function(t){var e=E(t);return e._chain=!0,e};var R=function(t,e){return t._chain?E(e).chain():e};E.mixin=function(t){E.each(E.functions(t),function(e){var n=E[e]=t[e];E.prototype[e]=function(){var t=[this._wrapped];return d.apply(t,arguments),R(this,n.apply(E,t))}})},E.mixin(E),E.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=l[t];E.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],R(this,n)}}),E.each(["concat","join","slice"],function(t){var e=l[t];E.prototype[t]=function(){return R(this,e.apply(this._wrapped,arguments))}}),E.prototype.value=function(){return this._wrapped},E.prototype.valueOf=E.prototype.toJSON=E.prototype.value,E.prototype.toString=function(){return""+this._wrapped},"function"==typeof t&&t.amd&&t("underscore",[],function(){return E})}).call(this)},{}],23:[function(t,e,n){"use strict";var i=t("underscore"),s=t("./form-element");t("element-kit");var r=s.extend({initialize:function(t){this.options=i.extend({el:null,onChecked:null,onUnchecked:null,containerClass:"ui-checkbox",inputClass:"ui-checkbox-input",checkedClass:"ui-checkbox-checked",disabledClass:"ui-checkbox-disabled",value:null},t),this.el=this.options.el,"input"!==this.el.tagName.toLowerCase()&&console.warn("checkbox error: element passed in instantiation was not an input element"),s.prototype.initialize.call(this,this.options),this.setup()},setup:function(){var t=this.getFormElement();t.kit.classList.add(this.options.inputClass),this._container=this._buildUIElement(this.el),this.isInitChecked=this.options.value||t.checked,this.isInitChecked&&this.check(),this.isInitDisabled=t.disabled,this.isInitDisabled&&this._container.kit.classList.add(this.options.disabledClass),this.getUIElement().kit.addEventListener("click","_onClick",this)},_onClick:function(){var t=this.getFormElement();t.disabled||(this.getUIElement().kit.classList.contains(this.options.checkedClass)?this.uncheck():this.check())},_buildUIElement:function(t){return t.kit.appendOuterHtml('<div class="'+this.options.containerClass+'"></div>')},check:function(){var t=this.getFormElement(),e=this.getUIElement();t.checked||(t.checked=!0),e.kit.classList.add(this.options.checkedClass),this.options.onChecked&&this.options.onChecked(t.value,t,e)},uncheck:function(){var t=this.getFormElement(),e=this.getUIElement();t.checked&&(t.checked=!1),e.kit.classList.remove(this.options.checkedClass),this.options.onUnchecked&&this.options.onUnchecked(t.value,t,e)},enable:function(){this.getFormElement().disabled=!1,this.getUIElement().kit.classList.remove(this.options.disabledClass)},disable:function(){this.getFormElement().disabled=!0,this.getUIElement().kit.classList.add(this.options.disabledClass)},getFormElement:function(){return this.el},getUIElement:function(){return this._container},getElementKey:function(){return"checkbox"},clear:function(){this.uncheck()},getValue:function(){return this.getFormElement().checked},setValue:function(t){t=t?!0:!1,this.getFormElement().checked=t},destroy:function(){var t=this.getUIElement(),e=this.getFormElement();t.kit.removeEventListener("click","_onClick",this),t.parentNode.replaceChild(e,t),this.isInitChecked&&(e.checked=!0),this.isInitDisabled&&(e.disabled=!0),s.prototype.destroy.call(this)}});e.exports=r},{"./form-element":26,"element-kit":6,underscore:22}],24:[function(t,e,n){"use strict";var i=t("underscore"),s=t("./form-element"),r=t("device-manager");t("element-kit");var o=s.extend({initialize:function(t){this.options=i.extend({el:null,onChange:null,autoSetup:!0,onFocus:null,onBlur:null,customWrapperClass:"dropdown-wrapper",containerClass:"dropdown-container",optionsContainerClass:"dropdown-option-container",optionsContainerActiveClass:"dropdown-option-container-active",optionsClass:"dropdown-option",optionsHighlightedClass:"dropdown-option-highlighted",optionsSelectedClass:"dropdown-option-selected",selectedValueContainerClass:"dropdown-value-container",selectedValueContainerActiveClass:"dropdown-value-container-active",disabledClass:"dropdown-disabled"},t),s.prototype.initialize.call(this,this.options),this._keyMap={38:"up",40:"down",27:"esc",32:"space"},this.options.autoSetup&&this.setup()},setup:function(){var t=this.options.el,e=t.querySelectorAll("option[selected]")[0];t.kit.addEventListener("change","_onSelectChange",this),this._wrapperEl=t.kit.appendOuterHtml('<div class="'+this.options.customWrapperClass+'">'),this._uiEl=this._buildUIElement(),this._wrapperEl.appendChild(this._uiEl),this._bindUIElementEvents(),e&&this._setUISelectedValue(e.value),this.getFormElement().disabled&&this.disable()},_buildUIElement:function(){var t=this.options,e=t.el,n=document.createElement("div");return this._origTabIndex=e.tabIndex,n.classList.add(this.options.containerClass),n.innerHTML=this._buildSelectedValueHtml()+this._buildOptionsHtml(),r.isMobile()||(n.tabIndex=this._origTabIndex||0,e.tabIndex=-1),n},_setUISelectedValue:function(t){var e=this.getUIElement().getElementsByClassName(this.options.optionsContainerClass)[0],n=e.getElementsByClassName(this.options.optionsSelectedClass)[0],i=e.querySelectorAll("."+this.options.optionsClass+'[data-value="'+t+'"]')[0],s=this.options.optionsSelectedClass,r=this.getUIElement().getElementsByClassName(this.options.selectedValueContainerClass)[0],o=i?i.textContent:"";r.setAttribute("data-value",t),r.innerHTML=o,n&&n.kit.classList.remove(s),i&&i.kit.classList.add(s)},onKeyStrokeUIElement:function(t){var e=this.options,n=this.options.optionsHighlightedClass,i=this.getUIElement(),s=i.getElementsByClassName(e.optionsContainerClass)[0],r=s.getElementsByClassName(e.optionsSelectedClass)[0],o=s.getElementsByClassName(n)[0]||r,a=this._keyMap[t.keyCode];if(!a)return!1;if("up"!==a&&"down"!==a||this.isOptionsContainerActive())if("up"===a)this._onKeyStrokeUp(o);else if("down"===a)this._onKeyStrokeDown(o);else{if(!this.isOptionsContainerActive())return!1;"esc"===a?this.hideOptionsContainer():"space"===a&&(this.setValue(o.dataset.value),this.hideOptionsContainer())}else this.showOptionsContainer()},_onKeyStrokeUp:function(t){var e=this.options.optionsHighlightedClass,n=t.previousSibling;t.classList.remove(e),n||(n=this.getUIElement().getElementsByClassName(this.options.optionsContainerClass)[0].lastChild),n.classList.add(e)},_onKeyStrokeDown:function(t){var e=this.options.optionsHighlightedClass,n=t.nextSibling;t.classList.remove(e),n||(n=this.getUIElement().getElementsByClassName(this.options.optionsContainerClass)[0].firstChild),n.classList.add(e)},_onFocusFormElement:function(t){this.options.onFocus&&this.options.onFocus(t)},_onBlurFormElement:function(t){this.options.onBlur&&this.options.onBlur(t)},_onFocusUIElement:function(t){var e=this;this._windowKeyEventListener=function(t){e._keyMap[t.keyCode]&&t.preventDefault()},r.isMobile()||(window.addEventListener("keydown",this._windowKeyEventListener,!1),window.addEventListener("keyup",this._windowKeyEventListener,!1),this.getUIElement().kit.addEventListener("keyup","onKeyStrokeUIElement",this)),this.options.onFocus&&this.options.onFocus(t)},_onBlurUIElement:function(t){r.isMobile()||(this.getUIElement().kit.removeEventListener("keyup","onKeyStrokeUIElement",this),window.removeEventListener("keydown",this._windowKeyEventListener,!1),window.removeEventListener("keyup",this._windowKeyEventListener,!1)),this.options.onBlur&&this.options.onBlur(t)},_onMouseEnterUIElement:function(t){t.currentTarget.classList.add(this.options.optionsHighlightedClass)},_onMouseLeaveUIElement:function(t){t.currentTarget.classList.remove(this.options.optionsHighlightedClass)},_bindUIElementEvents:function(){var t=this.getUIElement(),e=t.getElementsByClassName(this.options.selectedValueContainerClass)[0],n=this.getFormElement();
t.kit.addEventListener("focus","_onFocusUIElement",this),t.kit.addEventListener("blur","_onBlurUIElement",this),n.kit.addEventListener("focus","_onFocusFormElement",this),n.kit.addEventListener("blur","_onBlurFormElement",this),e.kit.addEventListener("click","_onClickUIValueContainer",this)},_unbindUIElementEvents:function(){var t=this.getUIElement(),e=t.getElementsByClassName(this.options.selectedValueContainerClass)[0],n=this.getFormElement();t.kit.removeEventListener("focus","_onFocusUIElement",this),t.kit.removeEventListener("blur","_onBlurUIElement",this),n.kit.removeEventListener("focus","_onFocusFormElement",this),n.kit.removeEventListener("blur","_onBlurFormElement",this),e.kit.removeEventListener("click","_onClickUIValueContainer",this)},bindUIOptionEvents:function(){var t,e=this.getUIElement().getElementsByClassName(this.options.optionsClass),n=e.length;for(t=0;n>t;t++)e[t].kit.addEventListener("click","_onClickUIOption",this),e[t].kit.addEventListener("mouseenter","_onMouseEnterUIElement",this),e[t].kit.addEventListener("mouseleave","_onMouseLeaveUIElement",this)},unbindUIOptionEvents:function(){var t,e=this.getUIElement().getElementsByClassName(this.options.optionsClass),n=e.length;for(t=0;n>t;t++)e[t].kit.removeEventListener("click","_onClickUIOption",this),e[t].kit.removeEventListener("mouseenter","_onMouseEnterUIElement",this),e[t].kit.removeEventListener("mouseleave","_onMouseLeaveUIElement",this)},_onClickUIValueContainer:function(){return this.getFormElement().disabled?!1:void(this.isOptionsContainerActive()?this.hideOptionsContainer():this.showOptionsContainer())},showOptionsContainer:function(){var t=this.getUIElement(),e=this.options,n=this.getUIOptionByDataValue(this.getValue())||t.getElementsByClassName(e.optionsClass)[0];t.kit.classList.add(e.optionsContainerActiveClass),this.bindUIOptionEvents(),n&&n.classList.add(this.options.optionsSelectedClass),document.body.kit.addEventListener("click","onClickDocument",this)},hideOptionsContainer:function(){r.isBrowser("safari")&&this.redrawOptionsContainer(),this.getUIElement().kit.classList.remove(this.options.optionsContainerActiveClass),this.unbindUIOptionEvents(),document.body.kit.removeEventListener("click","onClickDocument",this)},redrawOptionsContainer:function(){var t=this.getUIElement().getElementsByClassName(this.options.optionsContainerClass)[0],e=t.style.overflow;t.style.overflow="hidden",t.offsetHeight,e?t.style.overflow=e:t.style.removeProperty("overflow")},isOptionsContainerActive:function(){return this.getUIElement().kit.classList.contains(this.options.optionsContainerActiveClass)},onClickDocument:function(t){var e=t.target.kit.getClosestAncestorElementByClassName(this.options.containerClass);e&&e===this.getUIElement()||this.hideOptionsContainer()},_onClickUIOption:function(t){var e=t.currentTarget,n=e.kit.dataset.value;this.getValue()!==n&&(this.setValue(n),this._setUISelectedValue(n)),this.hideOptionsContainer()},_buildSelectedValueHtml:function(){return'<div class="'+this.options.selectedValueContainerClass+'" data-value=""></div>'},_buildOptionsHtml:function(){var t,e,n=this.options,i=document.createElement("div"),s='<div class="'+n.optionsContainerClass+'">',r=n.el.getElementsByTagName("option"),o=r.length,a="";for(i.kit.classList.add(n.optionsContainerClass),t=0;o>t;t++)e=r[t],a=e.hasAttribute("selected")?n.optionsSelectedClass:"",s+='<div class="'+n.optionsClass+" "+a+'" data-value="'+e.value+'">'+e.textContent+"</div>";return s+="</div>"},_onSelectChange:function(t){var e=this.getValue();this._setUISelectedValue(e),this.options.onChange&&this.options.onChange(e,this.getFormElement(),this.getUIElement(),t)},getUIElement:function(){return this._uiEl},getOptionByDataValue:function(t){return this.options.el.querySelectorAll('option[value="'+t+'"]')[0]},getUIOptionByDataValue:function(t){return this.getUIElement().querySelectorAll("."+this.options.optionsClass+'[data-value="'+t+'"]')[0]},getOptionByDisplayValue:function(t){var e,n,i=this.options.el.querySelectorAll("option"),s=i.length;for(e=0;s>e&&(n=i[e],n.textContent!==t);e++);return n},setValue:function(t){var e=this.getOptionByDataValue(this.getValue()),n=this.getOptionByDataValue(t),i=document.createEvent("HTMLEvents"),s=this.getFormElement();i.initEvent("change",!1,!0),e&&e.removeAttribute("selected"),n?(n.setAttribute("selected","selected"),s.value=t,s.dispatchEvent(i)):console.warn("Form Dropdown Error: Cannot call setValue(), dropdown has no option element with a value attribute of "+t+"."),this._setUISelectedValue(t)},updateOptions:function(t,e){var n,i=this.getUIElement().getElementsByClassName(this.options.optionsContainerClass)[0],s=document.createDocumentFragment();e=e||{},e.replace&&this.clearOptions(),this._updateFormOptionElements(t),t.forEach(function(t){n=document.createElement("div"),n.setAttribute("data-value",t.dataValue),n.classList.add(this.options.optionsClass),n.innerHTML=t.displayValue,s.appendChild(n)}.bind(this)),i.appendChild(s)},clearOptions:function(){var t=this.getUIElement().getElementsByClassName(this.options.optionsContainerClass)[0],e=this.getFormElement();e.innerHTML="",t.innerHTML=""},_updateFormOptionElements:function(t,e){var n,i=this.getFormElement(),s=document.createDocumentFragment();t.forEach(function(t){n=document.createElement("option"),n.setAttribute("value",t.dataValue),n.innerHTML=t.displayValue,s.appendChild(n)}),e&&(i.innerHTML=""),i.appendChild(s)},disable:function(){this.getUIElement().kit.classList.add(this.options.disabledClass),this.getFormElement().disabled=!0},enable:function(){this.getUIElement().kit.classList.remove(this.options.disabledClass),this.getFormElement().disabled=!1},clear:function(){var t=this.getOptionByDataValue("");t&&this.setValue("")},getDisplayValue:function(){return this.getOptionByDataValue(this.getValue()).textContent},destroy:function(){var t=this.options.el;this.unbindUIOptionEvents(),this._unbindUIElementEvents(),t.kit.removeEventListener("change","_onSelectChange",this),t.style.display=this._origDisplayValue,t.tabIndex=this._origTabIndex,this._wrapperEl.parentNode.replaceChild(t,this._wrapperEl)}});e.exports=o},{"./form-element":26,"device-manager":5,"element-kit":6,underscore:22}],25:[function(t,e,n){"use strict";var i=t("underscore"),s=t("./form-element");t("element-kit");var r=s.extend({initialize:function(t){this.options=i.extend({inputs:[],onChange:null,containerClass:"ui-form-element",inputClass:"ui-form-element-input",selectedClass:"ui-form-element-selected",disabledClass:"ui-form-element-disabled",value:null},t),s.prototype.initialize.call(this,this.options),this._container=this.options.container,!this.options.inputs.length&&this._container&&(this.options.inputs=this._container.querySelectorAll("input")),this.options.inputs.length?this.setup():console.error("could not build "+this.getElementKey()+": no form element input elements were passed")},setup:function(){this._formElements=this._setupFormElements(this.options.inputs),this._UIElements=this._buildUIElements(this._formElements),this._setupEvents()},_setupFormElements:function(t){var e=this.options.value,n=[];return t=Array.prototype.slice.call(t),"string"==typeof e?n.push(e):e&&e.length&&(n=Array.prototype.slice.call(e)),t.forEach(function(t){-1!==n.indexOf(t.value)&&(t.checked=!0),t.kit.classList.add(this.options.inputClass)}.bind(this)),t},_setupEvents:function(){this.triggerAll(function(t){t.kit.addEventListener("click","_onFormElementClick",this)}.bind(this))},getFormElementGroup:function(){return this._formElements||[]},getUIElements:function(){return this._UIElements||[]},triggerAll:function(t){var e,n=this.getFormElementGroup(),i=this.getUIElements();for(e=0;e<n.length;e++)t(n[e],i[e],e)},_onFormElementClick:function(t){var e=t.currentTarget.getElementsByClassName(this.options.inputClass)[0],n=t.currentTarget.getElementsByClassName(this.options.containerClass)[0];t.currentTarget===t.target&&(e=t.target,n=t.target.parentElement,this._processClick(e,n))},_processClick:function(t,e){},_buildUIElements:function(t){var e,n,i,s=t.length,r=[];for(e=0;s>e;e++)n=t[e],i=n.kit.appendOuterHtml('<div class="'+this.options.containerClass+'"></div>'),n.checked&&i.kit.classList.add(this.options.selectedClass),n.disabled&&i.kit.classList.add(this.options.disabledClass),r.push(i);return r},triggerChange:function(t,e){this.options.onChange&&this.options.onChange(t.value,t,e)},select:function(t){var e=this.getFormElement(t),n=this.getUIElement(t);e.checked||(e.checked=!0,n.kit.classList.add(this.options.selectedClass),this.triggerChange(e,n))},deselect:function(t){var e=this.getFormElement(t),n=this.getUIElement(t);n.kit.classList.remove(this.options.selectedClass),e.checked&&(e.checked=!1,this.triggerChange(e,n))},getValue:function(){var t=[];return this.getFormElementGroup().forEach(function(e){e.checked&&t.push(e.value)},this),t},setValue:function(t){this.getFormElementGroup().forEach(function(e,n){e.value===t||-1!==t.indexOf(e.value)?this.select(n):this.deselect(n)},this)},getFormElement:function(t){return this.getFormElementGroup()[t||0]},getUIElement:function(t){return this.getUIElements()[t||0]},clear:function(){this.triggerAll(function(t,e,n){this.deselect(n)}.bind(this))},enable:function(){this.triggerAll(function(t,e){t.disabled=!1,e.kit.classList.remove(this.options.disabledClass)}.bind(this))},disable:function(){this.triggerAll(function(t,e){t.disabled=!0,e.kit.classList.add(this.options.disabledClass)}.bind(this))},getElementKey:function(){return"FormElementGroup"},destroy:function(){this.triggerAll(function(t,e){e.parentNode.replaceChild(t,e),t.addEventListener("click","_onFormElementClick",this)}.bind(this)),s.prototype.destroy.call(this)}});e.exports=r},{"./form-element":26,"element-kit":6,underscore:22}],26:[function(t,e,n){"use strict";var i=(t("underscore"),t("module-js"));t("element-kit");var s=i.extend({initialize:function(t){this.options=t||{}},getFormElement:function(){return this.options.el},getUIElement:function(){return this.getFormElement()},getFormElements:function(){return[this.getFormElement()]},getValue:function(){return this.getFormElement().value},setValue:function(t){var e=this.getFormElements()[0];e&&(e.value=t)},clear:function(){},getUIElements:function(){return[this.getUIElement()]},enable:function(){this.getFormElement().disabled=!1},disable:function(){this.getFormElement().disabled=!0},getElementKey:function(){return"element"}});e.exports=s},{"element-kit":6,"module-js":20,underscore:22}],27:[function(t,e,n){"use strict";var i=t("underscore"),s=t("module-js"),r=t("./dropdown"),o=t("./input-field"),a=t("./checkbox"),u=t("./radios"),l=t("./text-area"),c=t("./submit-button"),h=t("observe-js").ObjectObserver;t("element-kit");var d=s.extend({initialize:function(t){this.options=i.extend({el:null,onValueChange:null,onGetOptions:null,dropdownClass:null,checkboxClass:null,inputFieldClass:null,textAreaClass:null,radioClass:null,submitButtonClass:null,submitButtonDisabledClass:null,onSubmitButtonClick:null,data:null,legacyDataPollTime:125},t),this.formEls=this.options.el.elements,this._formInstances=[],this._moduleCount=0,s.prototype.initialize.call(this,this.options)},_setupDataMapping:function(t){var e={};return t&&(e=t,Object.observe||(this._legacyDataPollTimer=window.setInterval(function(){Platform.performMicrotaskCheckpoint()},this.options.legacyDataPollTime)),this._observer=new h(e),this._observer.open(function(t,e,n){var s=i.extend(t,e,n);Object.keys(s).forEach(function(t){this.getInstanceByName(t).setValue(s[t])}.bind(this))}.bind(this))),e},_getSelectorMap:function(){return{dropdown:{option:this.options.dropdownClass,selector:"select",tag:"select"},checkbox:{option:this.options.checkboxClass,tag:"input",types:["checkbox"]},input:{option:this.options.inputFieldClass,tag:"input",types:["password","email","number","text","date","datetime","month","search","range","time","week","tel","color","datetime-local"]},radio:{option:this.options.radioClass,tag:"input",types:["radio"]},textarea:{option:this.options.textAreaClass,tag:"textarea"}}},setup:function(){var t=this.options.el.getElementsByClassName(this.options.submitButtonClass)[0];this._setupInstances(this._getInstanceEls("dropdown"),r),this._setupInstances(this._getInstanceEls("checkbox"),a),this._setupInstances(this._getInstanceEls("input"),o),this._setupInstances(this._getInstanceEls("textarea"),l);var e=this._getInstanceEls("radio");i.each(this.mapElementsByAttribute(e,"name"),function(t){this._setupInstance(t,u,{},"inputs")},this),t&&(this.subModules.submitButton=new c({el:t,disabledClass:this.options.submitButtonDisabledClass,onClick:this.options.onSubmitButtonClick})),this._setupDataMapping(this.options.data)},_getInstanceEls:function(t){var e=this.options.el,n=[],i=this._getSelectorMap();return i=i[t]||{},i.option?n=e.getElementsByClassName(i.option):i.types?i.types.forEach(function(t){(this.mapElementsByAttribute(this.formEls,"type")[t]||[]).forEach(function(t){n.push(t)})},this):i.tag&&(n=e.getElementsByTagName(i.tag)),n},_setupInstances:function(t,e,n,i){var s,r=t.length;if(r)for(s=0;r>s;s++)this._setupInstance(t[s],e,n,i)},_setupInstance:function(t,e,n,i){i=i||"el";var s=this.options,r=this._buildOptions(t,n);r[i]=t,t=t.length?Array.prototype.slice.call(t):[t];var o=t[0].name;s.data&&"function"!=typeof s.data[o]&&s.data.hasOwnProperty(o)&&(r.value=r.value||s.data[o]),this._moduleCount++;var a=this.subModules["fe"+this._moduleCount]=new e(r);this._formInstances.push(a)},mapElementsByAttribute:function(t,e){var n,i,s={},r=t.length;if(r)for(n=0;r>n;n++)i=t[n],s[i[e]]?s[i[e]].push(i):s[i[e]]=[i];return s},mapElementsByName:function(t){return this.mapElementsByAttribute(t,"name")},getInstanceByName:function(t){var e,n;for(e=0;e<this._formInstances.length&&(n=this._formInstances[e],n.getFormElement().name!==t);e++);return n},_buildOptions:function(t,e){return e=e||{},this.options.onGetOptions&&(e=i.extend({},e,this.options.onGetOptions(t))),e.onChange=function(t,e,n){this._onValueChange(t,e,n)}.bind(this),e},_onValueChange:function(t,e,n){var i=e.name,s=this.options,r=s.data[i];"function"==typeof r?r(t):s.data.hasOwnProperty(i)&&(s.data[i]=t),this.options.onValueChange&&this.options.onValueChange(t,e,n),this.options.onChange&&this.options.onChange(t,e,n)},disable:function(){var t,e=this.formEls,n=this.getSubmitButtonInstance();for(this.setPropertyAll("disabled",!0),t=0;t<e.length;t++)e[t].kit.classList.add("disabled");n&&n.disable()},enable:function(){var t,e=this.formEls,n=this.getSubmitButtonInstance();for(this.setPropertyAll("disabled",!1),t=0;t<e.length;t++)e[t].kit.classList.remove("disabled");n&&n.disable()},setPropertyAll:function(t,e){var n,i=this.formEls;for(n=0;n<i.length;n++)i[n][t]=e},triggerMethodAll:function(t,e){var n,i,s=Array.prototype.slice.call(arguments,1);for(n=0;n<this._formInstances.length;n++)i=this._formInstances[n],i[t].apply(i,s)},clear:function(){this.triggerMethodAll("clear")},getCurrentValues:function(){var t,e,n,i=[],s=this.options.el.querySelectorAll("[name]"),r=s.length;for(t=0;r>t;t++)e=s[t],e.name&&(n={name:e.name,value:e.value,required:e.required,disabled:e.disabled,formElement:e},i.push(n));return i},getSubmitButtonInstance:function(){return this.subModules.submitButton},destroy:function(){window.clearInterval(this._legacyDataPollTimer),this._observer&&this._observer.close(),s.prototype.destroy.call(this)}});e.exports=d},{"./checkbox":23,"./dropdown":24,"./input-field":28,"./radios":29,"./submit-button":30,"./text-area":31,"element-kit":6,"module-js":20,"observe-js":21,underscore:22}],28:[function(t,e,n){"use strict";var i=t("underscore"),s=t("./form-element");t("element-kit");var r=s.extend({initialize:function(t){this.options=i.extend({el:null,onChange:null,onKeyDownChange:null,containerClass:"ui-input-text",inputClass:"ui-input-text-input",disabledClass:"ui-input-text-disabled",activeClass:"ui-input-text-active",value:null},t),s.prototype.initialize.call(this,this.options),this.setup()},setup:function(){var t=this.options.el,e=this.options.value||t.value;t.kit.classList.add(this.options.inputClass),this._container=this._buildUIElement(t),this._inputEl=this._container.getElementsByClassName(this.options.inputClass)[0],t.value!==e&&(t.value=e),this.origInputValue=e,this.isInitDisabled=t.disabled,this.isInitDisabled&&this._container.kit.classList.add(this.options.disabledClass),this._bindEvents()},_bindEvents:function(){var t=this.getFormElement();t.kit.addEventListener("focus","_onInputFocus",this),t.kit.addEventListener("blur","_onInputBlur",this),t.kit.addEventListener("change","_onInputValueChange",this),t.kit.addEventListener("keydown","_onInputKeyDown",this)},_unbindEvents:function(){var t=this.getFormElement();t.kit.removeEventListener("focus","_onInputFocus",this),t.kit.removeEventListener("blur","_onInputBlur",this),t.kit.removeEventListener("change","_onInputValueChange",this),t.kit.removeEventListener("keydown","_onInputKeyDown",this)},_onInputKeyDown:function(t){this.keyDownTimeoutId&&clearTimeout(this.keyDownTimeoutId),this.keyDownTimeoutId=setTimeout(this._triggerKeyDownChange.bind(this,t),1)},_triggerKeyDownChange:function(t){this.options.onKeyDownChange&&this.options.onKeyDownChange(this.getFormElement(),this.getUIElement(),t)},setValue:function(t){var e=this.getFormElement(),n=e.value;t!==n&&(e.value=t,this._triggerChange())},getValue:function(){return this.getFormElement().value},_buildUIElement:function(t){return t.kit.appendOuterHtml('<div class="'+this.options.containerClass+'"></div>')},_onInputFocus:function(){this.getUIElement().kit.classList.add(this.options.activeClass)},_onInputBlur:function(){this.getUIElement().kit.classList.remove(this.options.activeClass)},_triggerChange:function(t){var e=[this.getValue(),this.getFormElement(),this.getUIElement()];t&&e.push(t),this.options.onChange&&this.options.onChange.apply(this,e)},_onInputValueChange:function(t){this._triggerChange(t)},getFormElement:function(){return this._inputEl},getUIElement:function(){return this._container},enable:function(){this.getFormElement().removeAttribute("disabled"),this.getUIElement().kit.classList.remove(this.options.disabledClass)},disable:function(){this.getFormElement().setAttribute("disabled","true"),this.getUIElement().kit.classList.add(this.options.disabledClass)},clear:function(){this.setValue("")},getElementKey:function(){return"inputText"},destroy:function(){var t=this.getUIElement(),e=this.getFormElement();this._unbindEvents(),t.parentNode.replaceChild(e,t),this.isInitDisabled&&e.setAttribute("disabled","true"),this.setValue(this.origInputValue),s.prototype.destroy.call(this)}});e.exports=r},{"./form-element":26,"element-kit":6,underscore:22}],29:[function(t,e,n){"use strict";var i=t("underscore"),s=t("./form-element-group");t("element-kit");var r=s.extend({initialize:function(t){this.options=i.extend({inputs:[],onChange:null,containerClass:"ui-radio",inputClass:"ui-radio-input",selectedClass:"ui-radio-selected",disabledClass:"ui-radio-disabled",value:null},t),s.prototype.initialize.call(this,this.options)},_processClick:function(t,e){this._lastRadioClicked!==t&&(this.triggerAll(function(t,e){e.kit.classList.remove(this.options.selectedClass),t.checked=!1}.bind(this)),t.checked=!0,e.kit.classList.add(this.options.selectedClass),this.triggerChange(t,e),this._lastRadioClicked=t)},select:function(t){var e=this.getFormElement(t),n=this.getUIElement(t);e.checked||(e.checked=!0,n.kit.classList.add(this.options.selectedClass),this.triggerChange(e,n)),this.triggerAll(function(t,e,n){t.checked||this.deselect(n)}.bind(this))},getElementKey:function(){return"radios"}});e.exports=r},{"./form-element-group":25,"element-kit":6,underscore:22}],30:[function(t,e,n){"use strict";var i=t("underscore"),s=t("module-js");t("element-kit");var r=s.extend({initialize:function(t){this.options=i.extend({el:null,disabledClass:"disabled",onClick:null},t),s.prototype.initialize.call(this,this.options),this.options.el.kit.addEventListener("click","onClick",this)},onClick:function(t){this.options.onClick&&this.options.onClick(t)},getSubmitButton:function(){return this.options.el},enable:function(){var t=this.getSubmitButton();t.disabled=!1,t.classList.remove(this.options.disabledClass)},disable:function(){var t=this.getSubmitButton();t.disabled=!0,t.classList.add(this.options.disabledClass)},destroy:function(){this.options.el.kit.removeEventListener("click","onClick",this),s.prototype.destroy.call(this)}});e.exports=r},{"element-kit":6,"module-js":20,underscore:22}],31:[function(t,e,n){"use strict";var i=t("underscore"),s=t("./form-element");t("element-kit");var r=s.extend({initialize:function(t){this.options=i.extend({el:null,onChange:null,onKeyDownChange:null,containerClass:"ui-textarea",inputClass:"ui-textarea-input",disabledClass:"ui-textarea-disabled",activeClass:"ui-textarea-active",value:null},t),s.prototype.initialize.call(this,this.options),this.setup()},setup:function(){var t=this.options.el,e=this.options.value||t.value;t.kit.classList.add(this.options.inputClass),this._container=this._buildUIElement(t),t.value!==e&&(t.value=e),this.origValue=e,this.origDisabled=t.disabled,this.origDisabled&&this._container.kit.classList.add(this.options.disabledClass),this._bindEvents()},_bindEvents:function(){var t=this.getFormElement();t.kit.addEventListener("focus","_onInputFocus",this),t.kit.addEventListener("blur","_onInputBlur",this),t.kit.addEventListener("change","_onInputValueChange",this),t.kit.addEventListener("keydown","_onInputKeyDown",this)},_unbindEvents:function(){var t=this.getFormElement();t.kit.removeEventListener("focus","_onInputFocus",this),t.kit.removeEventListener("blur","_onInputBlur",this),t.kit.removeEventListener("change","_onInputValueChange",this),t.kit.removeEventListener("keydown","_onInputKeyDown",this)},_onInputKeyDown:function(t){this.keyDownTimeoutId&&clearTimeout(this.keyDownTimeoutId),this.keyDownTimeoutId=setTimeout(this._triggerKeyDownChange.bind(this,t),1)},_triggerKeyDownChange:function(t){this.options.onKeyDownChange&&this.options.onKeyDownChange(this.getFormElement(),this.getUIElement(),t)},setValue:function(t){var e=this.getFormElement(),n=e.value;t!==n&&(e.value=t,this._triggerChange())},getValue:function(){return this.getFormElement().value},_buildUIElement:function(t){return t.kit.appendOuterHtml('<div class="'+this.options.containerClass+'"></div>')},_onInputFocus:function(){this.getUIElement().kit.classList.add(this.options.activeClass)},_onInputBlur:function(){this.getUIElement().kit.classList.remove(this.options.activeClass)},_triggerChange:function(t){var e=[this.getValue(),this.getFormElement(),this.getUIElement()];t&&e.push(t),this.options.onChange&&this.options.onChange.apply(this,e)},_onInputValueChange:function(t){this._triggerChange(t)},getFormElement:function(){return this.options.el},getUIElement:function(){return this._container},enable:function(){this.getFormElement().removeAttribute("disabled"),this.getUIElement().kit.classList.remove(this.options.disabledClass)},disable:function(){this.getFormElement().setAttribute("disabled","true"),this.getUIElement().kit.classList.add(this.options.disabledClass)},clear:function(){this.setValue("")},getElementKey:function(){return"textArea"},destroy:function(){var t=this.getUIElement(),e=this.getFormElement();this._unbindEvents(),t.parentNode.replaceChild(e,t),this.origDisabled&&e.setAttribute("disabled","true"),this.setValue(this.origValue),s.prototype.destroy.call(this)}});e.exports=r},{"./form-element":26,"element-kit":6,underscore:22}]},{},[27])(27)});